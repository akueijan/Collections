"use strict";function _defineProperty(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var youTubePlayer;function onYouTubeIframeAPIReady(){var e,o=document.getElementById("YouTube-video-id").value;(youTubePlayer=new YT.Player("YouTube-player",{videoId:o,height:300,width:400,playerVars:(e={autohide:0,cc_load_policy:0,controls:2,disablekb:1,iv_load_policy:3,modestbranding:1,rel:0},_defineProperty(e,"controls",0),_defineProperty(e,"showinfo",0),_defineProperty(e,"start",3),e),events:{onError:function(e){youTubePlayer.personalPlayer.errors.push(e.data)},onReady:function(e){e.target.loadVideoById({suggestedQuality:"tiny",videoId:o}),youTubePlayerDisplayFixedInfos()},onStateChange:function(e){var o=Math.round(e.target.getVolume()),r=document.getElementById("YouTube-player-volume");r&&Math.round(r.value)!=o&&(r.value=o)}}})).personalPlayer={currentTimeSliding:!1,errors:[]}}function youTubePlayerActive(){return youTubePlayer&&youTubePlayer.hasOwnProperty("getPlayerState")}function youTubePlayerChangeVideoId(){var e=document.getElementById("YouTube-video-id").value;youTubePlayer.cueVideoById({suggestedQuality:"tiny",videoId:e}),youTubePlayer.pauseVideo(),youTubePlayerDisplayFixedInfos()}function youTubePlayerCurrentTimeChange(e){youTubePlayer.personalPlayer.currentTimeSliding=!1,youTubePlayerActive()&&youTubePlayer.seekTo(e*youTubePlayer.getDuration()/100,!0)}function youTubePlayerCurrentTimeSlide(){youTubePlayer.personalPlayer.currentTimeSliding=!0}function youTubePlayerDisplayFixedInfos(){youTubePlayerActive()&&(document.getElementById("YouTube-player-fixed-infos").innerHTML="Embed code: <textarea readonly>"+youTubePlayer.getVideoEmbedCode()+"</textarea>")}function youTubePlayerDisplayInfos(){void 0===this.nbCalls||3<=this.nbCalls?this.nbCalls=0:++this.nbCalls;var e='<span id="indicator-display" title="timing of informations refreshing">'+["|","/",String.fromCharCode(8212),"\\"][this.nbCalls]+"</span>";if(youTubePlayerActive()){var o=youTubePlayer.getPlayerState(),r=youTubePlayer.getCurrentTime(),u=youTubePlayer.getDuration(),t=r&&u?100*r/u:0,a=youTubePlayer.hasOwnProperty("getVideoLoadedFraction")?youTubePlayer.getVideoLoadedFraction():0,n=youTubePlayer.getVideoUrl();r||(r=0),u||(u=0);var y=youTubePlayer.getVolume();youTubePlayer.personalPlayer.currentTimeSliding||(document.getElementById("YouTube-player-progress").value=t),document.getElementById("YouTube-player-infos").innerHTML=e+'URL: <a class="url" href="'+n+'">'+n+"</a><br>Quality: <strong>"+youTubePlayer.getPlaybackQuality()+"</strong> &mdash; Available quality: <strong>"+youTubePlayer.getAvailableQualityLevels()+"</strong><br>State <strong>"+o+"</strong>: <strong>"+youTubePlayerStateValueToDescription(o)+"</strong><br>Loaded: <strong>"+(100*a).toFixed(1)+"</strong>%<br>Duration: <strong>"+r.toFixed(2)+"</strong>/<strong>"+u.toFixed(2)+"</strong>s = <strong>"+t.toFixed(2)+"</strong>%<br>Volume: <strong>"+y+"</strong>%",document.getElementById("YouTube-player-errors").innerHTML="<div>Errors: <strong>"+youTubePlayer.personalPlayer.errors+"</strong></div>"}else document.getElementById("YouTube-player-infos").innerHTML=e}function youTubePlayerPause(){youTubePlayerActive()&&youTubePlayer.pauseVideo()}function youTubePlayerPlay(){youTubePlayerActive()&&youTubePlayer.playVideo()}function youTubePlayerStateValueToDescription(e,o){var r={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video cued"};return e in r?r[e]:o}function youTubePlayerStop(){youTubePlayerActive()&&(youTubePlayer.stopVideo(),youTubePlayer.clearVideo())}function youTubePlayerVolumeChange(e){youTubePlayerActive()&&youTubePlayer.setVolume(e)}!function(){function e(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o),setInterval(youTubePlayerDisplayInfos,1e3)}window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlLmpzIl0sIm5hbWVzIjpbInlvdVR1YmVQbGF5ZXIiLCJvbllvdVR1YmVJZnJhbWVBUElSZWFkeSIsIl9wbGF5ZXJWYXJzIiwidmlkZW9JZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsIllUIiwiUGxheWVyIiwiaGVpZ2h0IiwicGxheWVyVmFycyIsImlucHV0VmlkZW9JZCIsImF1dG9oaWRlIiwiY2NfbG9hZF9wb2xpY3kiLCJjb250cm9scyIsImRpc2FibGVrYiIsIml2X2xvYWRfcG9saWN5IiwibW9kZXN0YnJhbmRpbmciLCJyZWwiLCJfZGVmaW5lUHJvcGVydHkiLCJvblN0YXRlQ2hhbmdlIiwiZXZlbnRzIiwib25FcnJvciIsImV2ZW50IiwieW91VHViZVBsYXllclZvbHVtZUl0ZW1JZCIsImVycm9ycyIsInB1c2giLCJkYXRhIiwib25SZWFkeSIsInRhcmdldCIsInBsYXllciIsInlvdVR1YmVQbGF5ZXJEaXNwbGF5Rml4ZWRJbmZvcyIsInZvbHVtZSIsInJvdW5kIiwiZ2V0Vm9sdW1lIiwiTWF0aCIsInZvbHVtZUl0ZW0iLCJwZXJzb25hbFBsYXllciIsImN1cnJlbnRUaW1lU2xpZGluZyIsInlvdVR1YmVQbGF5ZXJBY3RpdmUiLCJoYXNPd25Qcm9wZXJ0eSIsInBhdXNlVmlkZW8iLCJjdWVWaWRlb0J5SWQiLCJzdWdnZXN0ZWRRdWFsaXR5IiwieW91VHViZVBsYXllckN1cnJlbnRUaW1lQ2hhbmdlIiwiY3VycmVudFRpbWUiLCJ5b3VUdWJlUGxheWVyQ3VycmVudFRpbWVTbGlkZSIsImdldER1cmF0aW9uIiwiaW5uZXJIVE1MIiwieW91VHViZVBsYXllckRpc3BsYXlJbmZvcyIsImdldFZpZGVvRW1iZWRDb2RlIiwidGhpcyIsImR1cmF0aW9uIiwiY3VycmVudFBlcmNlbnQiLCJuYkNhbGxzIiwiaW5kaWNhdG9yRGlzcGxheSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInN0YXRlIiwiZ2V0UGxheWVyU3RhdGUiLCJjdXJyZW50IiwiZ2V0Q3VycmVudFRpbWUiLCJmcmFjdGlvbiIsImdldFZpZGVvTG9hZGVkRnJhY3Rpb24iLCJnZXRWaWRlb1VybCIsInlvdVR1YmVQbGF5ZXJQYXVzZSIsInVybCIsImdldFBsYXliYWNrUXVhbGl0eSIsImdldEF2YWlsYWJsZVF1YWxpdHlMZXZlbHMiLCJ5b3VUdWJlUGxheWVyU3RhdGVWYWx1ZVRvRGVzY3JpcHRpb24iLCJ0b0ZpeGVkIiwieW91VHViZVBsYXllclBsYXkiLCJwbGF5VmlkZW8iLCJ5b3VUdWJlUGxheWVyVm9sdW1lQ2hhbmdlIiwidW5rbm93Iiwic2V0Vm9sdW1lIiwiMSIsIjIiLCIzIiwiNSIsIlNUQVRFUyIsInlvdVR1YmVQbGF5ZXJTdG9wIiwiZmlyc3Rfc2NyaXB0X3RhZyIsInN0b3BWaWRlbyIsImNsZWFyVmlkZW8iLCJpbml0IiwidGFnIiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInNldEludGVydmFsIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50Il0sIm1hcHBpbmdzIjoibUpBVUEsSUFBSUEsY0FlSixTQUFTQywwQkFBMEIsSUFBQUMsRUFJM0JDLEVBSEpDLFNBQUFDLGVBQUEsb0JBRzJCQyxPQWlDM0JOLGNBQWdCLElBQUlPLEdBQUdDLE9BQU8saUJBQ0EsQ0FBQUwsUUFBQUEsRUFBQU0sT0FoQ2pCLElBbUNrQkMsTUF0QzNCQyxJQXNDMkJELFlBQUFBLEVBQUFBLENBQUFFLFNBQUEsRUFBQUMsZUFBQSxFQUFBQyxTQUFBLEVBQUFDLFVBQUEsRUFBQUMsZUFBQSxFQU1vQkMsZUFBQSxFQU5wQkMsSUFBQSxHQUFBQyxnQkFBQWpCLEVBQUEsV0FXUSxHQVhSaUIsZ0JBQUFqQixFQVdRLFdBQUEsR0FYUmlCLGdCQUFBakIsRUFhMEJrQixRQUFBQSxHQWIxQmxCLEdBSi9CbUIsT0FBQSxDQUFBQyxRQTlCQSxTQUFBQyxHQUNJQyxj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RixjQTNCUixTQUFTWCwwQkFBMEJ6QyxHQUczQk8sdUJBQ0F2QyxjQUFjMkUsVUFBVTNDLElBUy9CLFdBR0csU0FBU3FELElBRUwsSUFBSUMsRUFBTWxGLFNBQVNtRixjQUFjLFVBRWpDRCxFQUFJRSxJQUFNLHFDQUVWLElBQUlOLEVBQW1COUUsU0FBU3FGLHFCQUFxQixVQUFVLEdBRS9EUCxFQUFpQlEsV0FBV0MsYUFBYUwsRUFBS0osR0FJOUNVLFlBQVkzQywwQkFBMkIsS0FJdkM0QyxPQUFPQyxpQkFDUEQsT0FBT0MsaUJBQWlCLE9BQVFULEdBQ3pCUSxPQUFPRSxhQUNkRixPQUFPRSxZQUFZLFNBQVVWLEdBdEJwQyIsImZpbGUiOiJ0ZW1wbGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBKYXZhU2NyaXB0IGNvZGUgZm9yIHRoZSBcIllvdVR1YmUgQVBJIGV4YW1wbGVcIlxyXG4gKiBodHRwOi8vd3d3Lm9waW1lZGlhLmJlL0RTL3dlYmRldi9Zb3VUdWJlL1xyXG4gKlxyXG4gKiAoYykgT2xpdmllciBQaXJzb24gLS0tIDIwMTYgSmFudWFyeSwgMjZcclxuICovXHJcblxyXG4vKipcclxuICogWVQuUGxheWVyIGluaXRpYWxpemVkIGJ5IG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkuXHJcbiAqL1xyXG52YXIgeW91VHViZVBsYXllcjtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIEZ1bmN0aW9uIGNhbGxlZCBieSBodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXHJcbiAqIHdoZW4gaXQgaXMgbG9hZGVkLlxyXG4gKlxyXG4gKiBJbml0aWFsaXplZCBZb3VUdWJlIGlmcmFtZSB3aXRoIHRoZSB2YWx1ZSBvZiAjWW91VHViZS12aWRlby1pZCBhcyB2aWRlb0lkXHJcbiAqIGFuZCB0aGUgdmFsdWUgb2YgI1lvdVR1YmUtcGxheWVyLXZvbHVtZSBhcyB2b2x1bWUuXHJcbiAqXHJcbiAqIEFkYXB0ZWQgZnJvbTpcclxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20veW91dHViZS9pZnJhbWVfYXBpX3JlZmVyZW5jZVxyXG4gKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS95b3V0dWJlL3BsYXllcl9wYXJhbWV0ZXJzP3BsYXllclZlcnNpb249SFRNTDVcclxuICovXHJcbmZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBpbnB1dFZpZGVvSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnWW91VHViZS12aWRlby1pZCcpO1xyXG4gICAgdmFyIHZpZGVvSWQgPSBpbnB1dFZpZGVvSWQudmFsdWU7XHJcbiAgICB2YXIgc3VnZ2VzdGVkUXVhbGl0eSA9ICd0aW55JztcclxuICAgIHZhciBoZWlnaHQgPSAzMDA7XHJcbiAgICB2YXIgd2lkdGggPSA0MDA7XHJcbiAgICB2YXIgeW91VHViZVBsYXllclZvbHVtZUl0ZW1JZCA9ICdZb3VUdWJlLXBsYXllci12b2x1bWUnO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBvbkVycm9yKGV2ZW50KSB7XHJcbiAgICAgICAgeW91VHViZVBsYXllci5wZXJzb25hbFBsYXllci5lcnJvcnMucHVzaChldmVudC5kYXRhKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gb25SZWFkeShldmVudCkge1xyXG4gICAgICAgIHZhciBwbGF5ZXIgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgIHBsYXllci5sb2FkVmlkZW9CeUlkKHtzdWdnZXN0ZWRRdWFsaXR5OiBzdWdnZXN0ZWRRdWFsaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiB2aWRlb0lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgICAgICB5b3VUdWJlUGxheWVyRGlzcGxheUZpeGVkSW5mb3MoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gb25TdGF0ZUNoYW5nZShldmVudCkge1xyXG4gICAgICAgIHZhciB2b2x1bWUgPSBNYXRoLnJvdW5kKGV2ZW50LnRhcmdldC5nZXRWb2x1bWUoKSk7XHJcbiAgICAgICAgdmFyIHZvbHVtZUl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh5b3VUdWJlUGxheWVyVm9sdW1lSXRlbUlkKTtcclxuXHJcbiAgICAgICAgaWYgKHZvbHVtZUl0ZW0gJiYgKE1hdGgucm91bmQodm9sdW1lSXRlbS52YWx1ZSkgIT0gdm9sdW1lKSkge1xyXG4gICAgICAgICAgICB2b2x1bWVJdGVtLnZhbHVlID0gdm9sdW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgeW91VHViZVBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ1lvdVR1YmUtcGxheWVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2aWRlb0lkOiB2aWRlb0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJWYXJzOiB7J2F1dG9oaWRlJzogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NjX2xvYWRfcG9saWN5JzogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRyb2xzJzogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVrYic6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpdl9sb2FkX3BvbGljeSc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtb2Rlc3RicmFuZGluZyc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWwnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udHJvbHMnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd2luZm8nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhcnQnOiAzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHsnb25FcnJvcic6IG9uRXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uUmVhZHknOiBvblJlYWR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvblN0YXRlQ2hhbmdlJzogb25TdGF0ZUNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gQWRkIHByaXZhdGUgZGF0YSB0byB0aGUgWW91VHViZSBvYmplY3RcclxuICAgIHlvdVR1YmVQbGF5ZXIucGVyc29uYWxQbGF5ZXIgPSB7J2N1cnJlbnRUaW1lU2xpZGluZyc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3JzJzogW119O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIDpyZXR1cm46IHRydWUgaWYgdGhlIHBsYXllciBpcyBhY3RpdmUsIGVsc2UgZmFsc2VcclxuICovXHJcbmZ1bmN0aW9uIHlvdVR1YmVQbGF5ZXJBY3RpdmUoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgcmV0dXJuIHlvdVR1YmVQbGF5ZXIgJiYgeW91VHViZVBsYXllci5oYXNPd25Qcm9wZXJ0eSgnZ2V0UGxheWVyU3RhdGUnKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBHZXQgdmlkZW9JZCBmcm9tIHRoZSAjWW91VHViZS12aWRlby1pZCBIVE1MIGl0ZW0gdmFsdWUsXHJcbiAqIGxvYWQgdGhpcyB2aWRlbywgcGF1c2UgaXRcclxuICogYW5kIHNob3cgbmV3IGluZm9zLlxyXG4gKi9cclxuZnVuY3Rpb24geW91VHViZVBsYXllckNoYW5nZVZpZGVvSWQoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGlucHV0VmlkZW9JZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdZb3VUdWJlLXZpZGVvLWlkJyk7XHJcbiAgICB2YXIgdmlkZW9JZCA9IGlucHV0VmlkZW9JZC52YWx1ZTtcclxuXHJcbiAgICB5b3VUdWJlUGxheWVyLmN1ZVZpZGVvQnlJZCh7c3VnZ2VzdGVkUXVhbGl0eTogJ3RpbnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgeW91VHViZVBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICB5b3VUdWJlUGxheWVyRGlzcGxheUZpeGVkSW5mb3MoKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTZWVrIHRoZSB2aWRlbyB0byB0aGUgY3VycmVudFRpbWUuXHJcbiAqIChBbmQgbWFyayB0aGF0IHRoZSBIVE1MIHNsaWRlciAqZG9uJ3QqIG1vdmUuKVxyXG4gKlxyXG4gKiA6cGFyYW0gY3VycmVudFRpbWU6IDAgPD0gbnVtYmVyIDw9IDEwMFxyXG4gKi9cclxuZnVuY3Rpb24geW91VHViZVBsYXllckN1cnJlbnRUaW1lQ2hhbmdlKGN1cnJlbnRUaW1lKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgeW91VHViZVBsYXllci5wZXJzb25hbFBsYXllci5jdXJyZW50VGltZVNsaWRpbmcgPSBmYWxzZTtcclxuICAgIGlmICh5b3VUdWJlUGxheWVyQWN0aXZlKCkpIHtcclxuICAgICAgICB5b3VUdWJlUGxheWVyLnNlZWtUbyhjdXJyZW50VGltZSp5b3VUdWJlUGxheWVyLmdldER1cmF0aW9uKCkvMTAwLCB0cnVlKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBNYXJrIHRoYXQgdGhlIEhUTUwgc2xpZGVyIG1vdmUuXHJcbiAqL1xyXG5mdW5jdGlvbiB5b3VUdWJlUGxheWVyQ3VycmVudFRpbWVTbGlkZSgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB5b3VUdWJlUGxheWVyLnBlcnNvbmFsUGxheWVyLmN1cnJlbnRUaW1lU2xpZGluZyA9IHRydWU7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogRGlzcGxheSBlbWJlZCBjb2RlIHRvICNZb3VUdWJlLXBsYXllci1maXhlZC1pbmZvcy5cclxuICovXHJcbmZ1bmN0aW9uIHlvdVR1YmVQbGF5ZXJEaXNwbGF5Rml4ZWRJbmZvcygpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBpZiAoeW91VHViZVBsYXllckFjdGl2ZSgpKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1lvdVR1YmUtcGxheWVyLWZpeGVkLWluZm9zJykuaW5uZXJIVE1MID0gKFxyXG4gICAgICAgICAgICAnRW1iZWQgY29kZTogPHRleHRhcmVhIHJlYWRvbmx5PicgKyB5b3VUdWJlUGxheWVyLmdldFZpZGVvRW1iZWRDb2RlKCkgKyAnPC90ZXh0YXJlYT4nXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBEaXNwbGF5XHJcbiAqICAgc29tZSB2aWRlbyBpbmZvcm1hdGlvbnMgdG8gI1lvdVR1YmUtcGxheWVyLWluZm9zLFxyXG4gKiAgIGVycm9ycyB0byAjWW91VHViZS1wbGF5ZXItZXJyb3JzXHJcbiAqICAgYW5kIHNldCBwcm9ncmVzcyBiYXIgI1lvdVR1YmUtcGxheWVyLXByb2dyZXNzLlxyXG4gKi9cclxuZnVuY3Rpb24geW91VHViZVBsYXllckRpc3BsYXlJbmZvcygpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBpZiAoKHRoaXMubmJDYWxscyA9PT0gdW5kZWZpbmVkKSB8fCAodGhpcy5uYkNhbGxzID49IDMpKSB7XHJcbiAgICAgICAgdGhpcy5uYkNhbGxzID0gMDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgICsrdGhpcy5uYkNhbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpbmRpY2F0b3JEaXNwbGF5ID0gJzxzcGFuIGlkPVwiaW5kaWNhdG9yLWRpc3BsYXlcIiB0aXRsZT1cInRpbWluZyBvZiBpbmZvcm1hdGlvbnMgcmVmcmVzaGluZ1wiPicgKyBbJ3wnLCAnLycsIFN0cmluZy5mcm9tQ2hhckNvZGUoODIxMiksICdcXFxcJ11bdGhpcy5uYkNhbGxzXSArICc8L3NwYW4+JztcclxuXHJcbiAgICBpZiAoeW91VHViZVBsYXllckFjdGl2ZSgpKSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0geW91VHViZVBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudCA9IHlvdVR1YmVQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICB2YXIgZHVyYXRpb24gPSB5b3VUdWJlUGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRQZXJjZW50ID0gKGN1cnJlbnQgJiYgZHVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50KjEwMC9kdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDApO1xyXG5cclxuICAgICAgICB2YXIgZnJhY3Rpb24gPSAoeW91VHViZVBsYXllci5oYXNPd25Qcm9wZXJ0eSgnZ2V0VmlkZW9Mb2FkZWRGcmFjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8geW91VHViZVBsYXllci5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwKTtcclxuXHJcbiAgICAgICAgdmFyIHVybCA9IHlvdVR1YmVQbGF5ZXIuZ2V0VmlkZW9VcmwoKTtcclxuXHJcbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB2b2x1bWUgPSB5b3VUdWJlUGxheWVyLmdldFZvbHVtZSgpO1xyXG5cclxuICAgICAgICBpZiAoIXlvdVR1YmVQbGF5ZXIucGVyc29uYWxQbGF5ZXIuY3VycmVudFRpbWVTbGlkaW5nKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdZb3VUdWJlLXBsYXllci1wcm9ncmVzcycpLnZhbHVlID0gY3VycmVudFBlcmNlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnWW91VHViZS1wbGF5ZXItaW5mb3MnKS5pbm5lckhUTUwgPSAoXHJcbiAgICAgICAgICAgIGluZGljYXRvckRpc3BsYXlcclxuICAgICAgICAgICAgICAgICsgJ1VSTDogPGEgY2xhc3M9XCJ1cmxcIiBocmVmPVwiJyArIHVybCArICdcIj4nICsgdXJsICsgJzwvYT48YnI+J1xyXG4gICAgICAgICAgICAgICAgKyAnUXVhbGl0eTogPHN0cm9uZz4nICsgeW91VHViZVBsYXllci5nZXRQbGF5YmFja1F1YWxpdHkoKSArICc8L3N0cm9uZz4nXHJcbiAgICAgICAgICAgICAgICArICcgJm1kYXNoOyBBdmFpbGFibGUgcXVhbGl0eTogPHN0cm9uZz4nICsgeW91VHViZVBsYXllci5nZXRBdmFpbGFibGVRdWFsaXR5TGV2ZWxzKCkgKyAnPC9zdHJvbmc+PGJyPidcclxuICAgICAgICAgICAgICAgICsgJ1N0YXRlIDxzdHJvbmc+JyArIHN0YXRlICsgJzwvc3Ryb25nPjogPHN0cm9uZz4nICsgeW91VHViZVBsYXllclN0YXRlVmFsdWVUb0Rlc2NyaXB0aW9uKHN0YXRlKSArICc8L3N0cm9uZz48YnI+J1xyXG4gICAgICAgICAgICAgICAgKyAnTG9hZGVkOiA8c3Ryb25nPicgKyAoZnJhY3Rpb24qMTAwKS50b0ZpeGVkKDEpICsgJzwvc3Ryb25nPiU8YnI+J1xyXG4gICAgICAgICAgICAgICAgKyAnRHVyYXRpb246IDxzdHJvbmc+JyArIGN1cnJlbnQudG9GaXhlZCgyKSArICc8L3N0cm9uZz4vPHN0cm9uZz4nICsgZHVyYXRpb24udG9GaXhlZCgyKSArICc8L3N0cm9uZz5zID0gPHN0cm9uZz4nICsgY3VycmVudFBlcmNlbnQudG9GaXhlZCgyKSArICc8L3N0cm9uZz4lPGJyPidcclxuICAgICAgICAgICAgICAgICsgJ1ZvbHVtZTogPHN0cm9uZz4nICsgdm9sdW1lICsgJzwvc3Ryb25nPiUnXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1lvdVR1YmUtcGxheWVyLWVycm9ycycpLmlubmVySFRNTCA9ICc8ZGl2PkVycm9yczogPHN0cm9uZz4nICsgeW91VHViZVBsYXllci5wZXJzb25hbFBsYXllci5lcnJvcnMgKyAnPC9zdHJvbmc+PC9kaXY+JztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdZb3VUdWJlLXBsYXllci1pbmZvcycpLmlubmVySFRNTCA9IGluZGljYXRvckRpc3BsYXk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogUGF1c2UuXHJcbiAqL1xyXG5mdW5jdGlvbiB5b3VUdWJlUGxheWVyUGF1c2UoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgaWYgKHlvdVR1YmVQbGF5ZXJBY3RpdmUoKSkge1xyXG4gICAgICAgIHlvdVR1YmVQbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFBsYXkuXHJcbiAqL1xyXG5mdW5jdGlvbiB5b3VUdWJlUGxheWVyUGxheSgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBpZiAoeW91VHViZVBsYXllckFjdGl2ZSgpKSB7XHJcbiAgICAgICAgeW91VHViZVBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIHN0YXRlIGRlY3JpcHRpb24gY29ycmVzcG9uZGluZyBvZiB0aGUgc3RhdGUgdmFsdWUuXHJcbiAqIElmIHRoaXMgdmFsdWUgaXMgaW5jb3JyZWN0LCB0aGVuIHJldHVybiB1bmtub3cuXHJcbiAqXHJcbiAqIFNlZSB2YWx1ZXM6XHJcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3lvdXR1YmUvaWZyYW1lX2FwaV9yZWZlcmVuY2UjUGxheWJhY2tfc3RhdHVzXHJcbiAqXHJcbiAqIDpwYXJhbSBudW1iZXI6IGFueVxyXG4gKiA6cGFyYW0gdW5rbm93OiBhbnlcclxuICpcclxuICogOnJldHVybjogJ3Vuc3RhcnRlZCcsICdlbmRlZCcsICdwbGF5aW5nJywgJ3BhdXNlZCcsICdidWZmZXJpbmcnLCAndmlkZW8gY3VlZCcgb3IgdW5rbm93XHJcbiAqL1xyXG5mdW5jdGlvbiB5b3VUdWJlUGxheWVyU3RhdGVWYWx1ZVRvRGVzY3JpcHRpb24oc3RhdGUsIHVua25vdykge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVEFURVMgPSB7Jy0xJzogJ3Vuc3RhcnRlZCcsICAgLy8gWVQuUGxheWVyU3RhdGUuXHJcbiAgICAgICAgICAgICAgICAgICcwJzogJ2VuZGVkJywgICAgICAgIC8vIFlULlBsYXllclN0YXRlLkVOREVEXHJcbiAgICAgICAgICAgICAgICAgICcxJzogJ3BsYXlpbmcnLCAgICAgIC8vIFlULlBsYXllclN0YXRlLlBMQVlJTkdcclxuICAgICAgICAgICAgICAgICAgJzInOiAncGF1c2VkJywgICAgICAgLy8gWVQuUGxheWVyU3RhdGUuUEFVU0VEXHJcbiAgICAgICAgICAgICAgICAgICczJzogJ2J1ZmZlcmluZycsICAgIC8vIFlULlBsYXllclN0YXRlLkJVRkZFUklOR1xyXG4gICAgICAgICAgICAgICAgICAnNSc6ICd2aWRlbyBjdWVkJ307ICAvLyBZVC5QbGF5ZXJTdGF0ZS5DVUVEXHJcblxyXG4gICAgcmV0dXJuIChzdGF0ZSBpbiBTVEFURVNcclxuICAgICAgICAgICAgPyBTVEFURVNbc3RhdGVdXHJcbiAgICAgICAgICAgIDogdW5rbm93KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTdG9wLlxyXG4gKi9cclxuZnVuY3Rpb24geW91VHViZVBsYXllclN0b3AoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgaWYgKHlvdVR1YmVQbGF5ZXJBY3RpdmUoKSkge1xyXG4gICAgICAgIHlvdVR1YmVQbGF5ZXIuc3RvcFZpZGVvKCk7XHJcbiAgICAgICAgeW91VHViZVBsYXllci5jbGVhclZpZGVvKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hhbmdlIHRoZSB2b2x1bWUuXHJcbiAqXHJcbiAqIDpwYXJhbSB2b2x1bWU6IDAgPD0gbnVtYmVyIDw9IDEwMFxyXG4gKi9cclxuZnVuY3Rpb24geW91VHViZVBsYXllclZvbHVtZUNoYW5nZSh2b2x1bWUpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBpZiAoeW91VHViZVBsYXllckFjdGl2ZSgpKSB7XHJcbiAgICAgICAgeW91VHViZVBsYXllci5zZXRWb2x1bWUodm9sdW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICogTWFpblxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIC8vIExvYWQgWW91VHViZSBsaWJyYXJ5XHJcbiAgICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG5cclxuICAgICAgICB0YWcuc3JjID0gJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGknO1xyXG5cclxuICAgICAgICB2YXIgZmlyc3Rfc2NyaXB0X3RhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcclxuXHJcbiAgICAgICAgZmlyc3Rfc2NyaXB0X3RhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0X3NjcmlwdF90YWcpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gU2V0IHRpbWVyIHRvIGRpc3BsYXkgaW5mb3NcclxuICAgICAgICBzZXRJbnRlcnZhbCh5b3VUdWJlUGxheWVyRGlzcGxheUluZm9zLCAxMDAwKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBpbml0KTtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbmxvYWQnLCBpbml0KTtcclxuICAgIH1cclxufSgpKTtcclxuIl19
