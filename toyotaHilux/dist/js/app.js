"use strict";var production=!1===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=production;var md=new MobileDetect(window.navigator.userAgent),tag=document.createElement("script");function findGetParameter(t){var n=null,o=[];return location.search.substr(1).split("&").forEach(function(e){(o=e.split("="))[0]===t&&(n=decodeURIComponent(o[1]))}),n}function checkCookie(t){var n=null,o=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(o=e.split("="))[0]===t&&(n=o[1])}),n}function deviceCheck(){var e={},t=new MobileDetect(window.navigator.userAgent);return t.match(/android/i)?(e.os="android",e.version=t.version("android")):t.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=t.version("iOS")):(e.os="pc",e.version=t.version("Chrome")),e}$(function(){console.log("v1.0"),console.log(device),$(".nav").menu()}),Vue.mixin({data:function(){return{status:"",startDate:"",endDate:"",projectStatus:null,errorMsg:"",envMode:production?"Started":"Testing",mainToken:"",reCaptcha:"",isPc:!1,popup:!1,popPage:"",alertPopup:!1,alertPage:"",eventPopup:!1,loading:!1,loadPage:"",warning:0,savecheck:{q1:0,q2:0,q3:0},gameAns:{txt:"",keyword:""}}},computed:{},watch:{errorMsg:function(e){$("body").toggleClass("_freeze")}},methods:{gtmEvent:function(e){dataLayer.push({event:e})},gaEvent:function(e,t){ga("send",{hitType:"event",eventCategory:"202007_HILUXMC",eventAction:t,eventLabel:e})},gtagEvent:function(e,t){gtag("event",t,{event_category:"202007_HILUXMC",event_label:e})},server_busy:function(){var e=this;e.errorMsg="系統忙碌中，請稍後在試!",e.loading=!1,e.errorCou=6},setCookie:function(e,t,n){var o=new Date;o.setTime(o.getTime()+1e3*n);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";"},logger:function(e,t,n){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(t),path:window.location.href,tag:n||null,device:device,timestamp:Date.now()})}},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},scrollTo:function(e){$("html,body").animate({scrollTop:$(e).offset().top-this.navHeight},500)},getToken:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"token"),headers:{webToken:"Y7LpsA6d5VDRjqeWB1F6cA=="},method:"POST"}).done(function(e){t.mainToken=e.token,t.startDate=e.startDate,t.endDate=e.endDate,t.projectStatus=e.projectStatus})},grecaptcha:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(n){var o=this;return new Promise(function(t,e){grecaptcha.execute("6LfXybAZAAAAAAIVaOzEtaP-N1m_Zh3tX7ftaIxp",{action:n}).then(function(e){o.reCaptcha=e,t()},function(){alert("Google驗證失敗，請再次嘗試\n如無法排除此問題，建議重新整理此頁面"),e()})})}),popClose:function(e){var t=this;t.eventPopup=!1,"fb"!=e&&(t.popup=!1,t.popPage=""),t.alertPopup=!1,t.alertPage=""},eventOpen:function(){this.eventPopup=!0},checkBrower:function(e){var t=navigator.userAgent,n=(navigator.userAgent.toLowerCase(),-1<t.indexOf("Line"));t.indexOf("FBAV");n&&(-1==window.location.href.indexOf("?")?window.location.href+="?openExternalBrowser=1":window.location.href+="&openExternalBrowser=1"),1e3<window.innerWidth?(this.isPc=!0,document.querySelector("body").style="overflow: hidden","index"!==e&&(window.location="index.html")):this.isPc=!1}},mounted:function(){}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiJCIsImRhdGEiLCJkZXZpY2UiLCJkZXZpY2VDaGVjayIsIlZ1ZSIsImNvbmZpZyIsImRlYnVnIiwic2lsZW50IiwiY29uc29sZSIsIk1vYmlsZURldGVjdCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRhZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInJlc3VsdCIsInBhcmFtZXRlck5hbWUiLCJ0bXAiLCJsb2NhdGlvbiIsImNoZWNrQ29va2llIiwic3BsaXQiLCJjb29raWUiLCJpdGVtIiwiZm9yRWFjaCIsInN1YnN0cmluZyIsIm9zIiwidmVyc2lvbiIsIm1hdGNoIiwibWQiLCJwcm9qZWN0U3RhdHVzIiwibWl4aW4iLCJzdGF0dXMiLCJzdGFydERhdGUiLCJsb2ciLCJzZWFyY2giLCJlbnZNb2RlIiwibWFpblRva2VuIiwicmVDYXB0Y2hhIiwicG9wUGFnZSIsImFsZXJ0UG9wdXAiLCJhbGVydFBhZ2UiLCJldmVudFBvcHVwIiwibG9hZGluZyIsImxvYWRQYWdlIiwid2FybmluZyIsInNhdmVjaGVjayIsImdhbWVBbnMiLCJxMSIsInEyIiwicTMiLCJ0eHQiLCJrZXl3b3JkIiwiY29tcHV0ZWQiLCJndG1FdmVudCIsImVycm9yTXNnIiwidmFsIiwiZGF0YUxheWVyIiwidG9nZ2xlQ2xhc3MiLCJtZXRob2RzIiwiZ2FFdmVudCIsImd0bURhdGEiLCJwdXNoIiwiZXZlbnQiLCJldmVudENhdGVnb3J5IiwiQWN0aW9uIiwiZXZlbnRMYWJlbCIsIkxhYmVsIiwiaGl0VHlwZSIsImV2ZW50QWN0aW9uIiwiZ3RhZ0V2ZW50IiwiZ3RhZ0RhdGEiLCJndGFnIiwiZXZlbnRfY2F0ZWdvcnkiLCJldmVudF9sYWJlbCIsInNlcnZlcl9idXN5Iiwidm0iLCJ0aGlzIiwic2V0Q29va2llIiwic2V0VGltZSIsImVycm9yQ291IiwiY25hbWUiLCJjdmFsdWUiLCJ0aW1lIiwiZCIsIkRhdGUiLCJnZXRUaW1lIiwiY29udGVudCIsInRvVVRDU3RyaW5nIiwiZXhwaXJlcyIsImxvZ2dlciIsImxldmVsIiwiX0xUcmFja2VyIiwic3RyaW5naWZ5IiwiSlNPTiIsInBhdGgiLCJub3ciLCJocmVmIiwidGltZXN0YW1wIiwiY2hlY2tPbmxpbmUiLCJvbkxpbmUiLCJhbGVydCIsInNjcm9sbFRvIiwiZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJuYXZIZWlnaHQiLCJhamF4IiwidXJsIiwiaGVhZGVycyIsImNvbmNhdCIsImZyaWVuZG9fdXJsIiwid2ViVG9rZW4iLCJyZXMiLCJlbmREYXRlIiwidG9rZW4iLCJncmVjYXB0Y2hhIiwiX2dyZWNhcHRjaGEiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwidG9TdHJpbmciLCJwYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJleGVjdXRlIiwiYWN0aW9uIiwidGhlbiIsInBvcENsb3NlIiwibW9kZSIsInBvcHVwIiwiY2hlY2tCcm93ZXIiLCJ1IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiaXNMaW5lQXBwIiwiaW5uZXJXaWR0aCIsImlzUGMiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJtb3VudGVkIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUNJQSxZQUEwQyxJQUE3QkMsRUFBRSxVQUFVQyxLQUFLLFFBQTlCRixZQUFjQyxFQUFDLFVBQVVDLEtBQUssUUFHNUJDLE9BQVNDLGNBR2ZDLElBQUlDLE9BQU9DLFVBQVNQLFdBQ3BCSyxJQUFJQyxPQUFPRSxPQUFTUixXQUlwQkssSUFBQUMsT0FBQUUsT0FBQVIsV0FTSVMsSUFBQUEsR0FBTyxJQUFQQyxhQUFBQyxPQUFBQyxVQUFBQyxXQUZKQyxJQUFBQyxTQUFBQyxjQUFBLFVBa0JJLFNBQU9DLGlCQUFQQyxHQUNILElBQUFELEVBQUEsS0FWT0UsRUFBTSxHQVNWLE9BR0pDLFNBQVNDLE9BQ0RKLE9BQVMsR0FDTkssTUFEUCxLQUVJQyxRQUFTUixTQUFTUSxJQUNmRCxFQUFQRSxFQUNLQyxNQUFRLE1BQ1csS0FBTVAsSUFDWE0sRUFBS0UsbUJBQVpQLEVBQUEsT0FWTEYsRUFlRixTQVJMSSxZQUFBSCxHQVNBLElBQUFELEVBQUEsS0FDSEUsRUFBQSxHQVNPaEIsT0FwQlNZLFNBQVNRLE9BWWpCbkIsTUFBQUEsS0FDREQsUUFBSixTQUFBcUIsR0FDZ0MsS0FBbkJkLEVBQUFBLE9BQWFDLEtBVmRhLEVBQU9BLEVBQUtFLFVBQVUsS0FZdkJDLEVBQUtILEVBQUFGLE1BQVosTUFDQSxLQUFvQk0sSUFDVkMsRUFBTVYsRUFBQSxNQUVUUyxFQUVQekIsU0FBQUEsY0FDQUEsSUFBQUEsRUFBT3lCLEdBQ1ZFLEVBQUEsSUFBQXBCLGFBQUFDLE9BQUFDLFVBQUFDLFdBVU9rQixPQW5CSkQsRUFBR0QsTUFBTSxhQVViMUIsRUFBQXdCLEdBQUEsVUFDSHhCLEVBQUF5QixRQUFBRSxFQUFBRixRQUFBLFlBUmNFLEVBQUdELE1BQU0sMEJBVXBCRyxFQUFNTCxHQUFBLE1BQ0F4QixFQUFBeUIsUUFBWUUsRUFBQUYsUUFBQSxTQUVWSyxFQUFRTixHQURMLEtBRUhPLEVBQVNOLFFBRk5FLEVBQUFGLFFBQUEsV0FJSEcsRUFuRFo5QixFQUFBLFdBQ0lRLFFBQVUwQixJQUFHLFFBQWIxQixRQUNVMEIsSUFEVmhDLFFBRUFpQixFQUFBQSxRQUFTZ0IsU0FrRERDLElBQUFBLE1BQUFBLENBQ0FDLEtBQUFBLFdBQ0FDLE1BQVMsQ0FDSE4sT0FUSCxHQVVFQyxVQVZGLEdBV0hNLFFBWEcsR0FXVVQsY0FBQSxLQUNiVSxTQUFZLEdBQ1pDLFFBYkcxQyxXQUFBLFVBQUEsVUFhWXNDLFVBQUEsR0FDZkssVUFkRyxHQWVIQyxNQUFTLEVBQ1RDLE9BaEJHLEVBZ0JXTCxRQUFBLEdBQ2RNLFlBakJHLEVBa0JIQyxVQUFXLEdBQ0hKLFlBREcsRUFFSEMsU0FGRyxFQUdIQyxTQUFBLEdBckJMQyxRQUFBLEVBdUJIRSxVQUFTLENBQUFDLEdBQUEsRUFFRUMsR0FBRSxFQUZKQyxHQUFBLEdBekJYSCxRQUFBLENBQUFJLElBQUEsR0FpQ0NDLFFBQUEsTUFqQ0RDLFNBQUEsR0F1Q0ZDLE1BQUFBLENBQ0lDLFNBQUEsU0FBQUMsR0FDQUMsRUFBQUEsUUFBZUMsWUFBQSxhQUNsQkMsUUFKSSxDQUtMQyxTQUxLLFNBQUFDLEdBT0VKLFVBQVFLLEtBQUEsQ0FBQUMsTUFBQUYsS0FFUEcsUUFUSCxTQVNHQSxFQUFhQyxHQUViQyxHQUFBQSxPQUFZQyxDQUpoQkMsUUFBQSxRQVBDSixjQUFBLGlCQUFBSyxZQUFBSixFQWVJQyxXQUFEQyxLQUFKRyxVQWZDLFNBZURILEVBQUFJLEdBZkNDLEtBQUEsUUFBQUQsRUFBQSxDQW9CTUUsZUFBRSxpQkFDQUMsWUFBVFAsS0FHRVEsWUFBRixXQXhCQyxJQUFBQyxFQUFBQyxLQTBCTEMsRUFBV3ZCLFNBQUEsZUFDRnFCLEVBQUdqQyxTQUFSLEVBQ0VvQyxFQUFGQyxTQUFVLEdBRVZsRSxVQUFTUSxTQUFjMkQsRUFBTEMsRUFBQUMsR0E5QmpCLElBQUFDLEVBQUEsSUFBQUMsS0FnQ0dELEVBQUFMLFFBQUFLLEVBQUFFLFVBQTBCekUsSUFBVDBFLEdBQ2pCeEYsSUFBQUEsRUFBWSxXQUFBcUYsRUFBQUksY0FDWjFFLFNBQUFRLE9BQUEyRCxFQUFBLElBQUFDLEVBQUEsSUFBQU8sRUFBQSxLQUZSQyxPQUFRLFNBQVVDLEVBQU9KLEVBQVMxRSxHQUkxQitFLEdBQUFBLFdBQWUsQ0FHWEEsVUFBZXpFLEtBQUFBLENBQ0x3RSxNQUZNRSxDQUFBQSxRQUFMLFFBRkEsVUFBQSxPQUFBLE9BQUFGLEdBS0R6RixRQUxDNEYsS0FBQUQsVUFBQU4sR0FNWFEsS0FBa0JDLE9BQUw3RSxTQUFBOEUsS0FOakJwRixJQUFBQSxHQUFBLEtBUUhYLE9BQUFBLE9BNUNBZ0csVUFBQWIsS0FBQVcsVUFrREFHLFlBQUEsV0FsREF4RixVQUFBeUYsUUFvREtDLE1BQUEsOEJBRU5DLFNBQUEsU0FBQUMsR0FJSXZHLEVBQUUsYUFBQXdHLFFBQVcsQ0FDUkMsVUFBVHpHLEVBQUF1RyxHQUFBRyxTQUFBQyxJQTNEQzlCLEtBMkREK0IsV0FDU0MsTUFFTEMsU0FBRyxXQUNIQyxJQUFPbkMsRUFBRUMsS0FDTCxPQUFBN0UsRUFBQTZHLEtBQVksQ0FFUkMsSUFBQSxHQUFBRSxPQUNSQyxZQURRLFNBSFJGLFFBQVMsQ0FLTEcsU0FBZSw0QkFFaEI3RSxPQUFZOEUsU0FFWkMsS0FBSCxTQUFpQkEsR0FackJ4QyxFQUFBdkMsVUFBQThFLEVBQUFFLE1BNURDekMsRUFBQTNDLFVBQUFrRixFQUFBbEYsVUE0RUsyQyxFQUFBd0MsUUFBQUQsRUFBQUMsUUFBQXhDLEVBQUE5QyxjQUFBcUYsRUFBQXJGLGlCQUFWd0YsV0FBVSxTQUFBQyxHQUFBLFNBQUFELEVBQUFFLEdBQUEsT0FBQUQsRUFBQUUsTUFBQTVDLEtBQUE2QyxXQUFBLE9BQUFKLEVBQUFLLFNBQUEsV0FBQSxPQUFBSixFQUFBSSxZQUFBTCxFQUFBLENBQUUsU0FBVU0sR0FBWixJQUFBaEQsRUFBQUMsS0FBQSxPQUFBLElBQUFnRCxRQUFBLFNBQUFDLEVBQUFDLEdBQUFULFdBQUFVLFFBQUEsMkNBQUEsQ0FJRUMsT0FBUUwsSUFKVk0sS0FBQSxTQUFBYixHQUFFekMsRUFBZ0J0QyxVQUFBK0UsRUFDeEJTLEtBQ1dELFdBQ0lHLE1BQVgsd0NBQ1lKLFVBSVhPLFNBcEZKLFNBb0ZNQyxHQUNDL0IsSUFBTXpCLEVBQUFDLEtBTlZELEVBQUFsQyxZQUFBLEVBREosTUFBQTBGLElBOUVDeEQsRUFBQXlELE9BQUEsRUFBQXpELEVBQUFyQyxRQUFBLElBNkZFRyxFQUFBQSxZQUFILEVBTUFrQyxFQUFHbkMsVUFBWSxJQUpYbUMsVUEvRkgsV0FnR2dCQyxLQVFkbkMsWUFBYSxHQUxkNEYsWUFuR0QsU0FtR0RWLEdBbkdDLElBQUFXLEVBQUE1SCxVQUFBQyxVQXdHRThCLEdBRkgvQixVQUFBQyxVQUFBNEgsZUFFQSxFQUFBRCxFQUFBRSxRQUFBLFNBeEdDRixFQUFBRSxRQUFBLFFBMkdRQyxLQUVULEdBQVMvSCxPQUFVQyxTQUFVNEgsS0FBQUEsUUFBN0IsS0FDYTlILE9BQUsrSCxTQUFReEMsTUFBMUIseUJBQ2NzQyxPQUFFRSxTQUFGeEMsTUFBd0IsMEJBZXRDLElBQUF2RixPQUFBaUksWUE5SEM5RCxLQStIRCtELE1BQUEsRUFDQTlILFNBQUErSCxjQUFBLFFBQUFDLE1BQUEsbUJBQ0EsVUFBQWxCLElBQ0FsSCxPQUFBUyxTQUFBLGVBbElDMEQsS0EySU0rRCxNQUFPLElBSXRCRyxRQUFTIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0XHJcbiAgICBwcm9kdWN0aW9uID0gJChcIiNhcHBqc1wiKS5kYXRhKFwibW9kZVwiKSA9PT0gZmFsc2UsXHJcbiAgICBmcmllbmRvX3VybCA9ICQoXCIjYXBwanNcIikuZGF0YShcInNpdGVcIik7XHJcblxyXG5jb25zdCBkZXZpY2UgPSBkZXZpY2VDaGVjaygpO1xyXG5cclxuVnVlLmNvbmZpZy5kZXZ0b29scyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLmRlYnVnID0gIXByb2R1Y3Rpb247XHJcblZ1ZS5jb25maWcuc2lsZW50ID0gcHJvZHVjdGlvbjtcclxuXHJcblxyXG4vLyBWdWUuY29uZmlnLmRldnRvb2xzID0gZmFsc2U7XHJcbi8vIFZ1ZS5jb25maWcuZGVidWcgPSBmYWxzZTtcclxuLy8gVnVlLmNvbmZpZy5zaWxlbnQgPSB0cnVlO1xyXG5cclxudmFyIG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcblxyXG52YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwidjEuMFwiKTtcclxuICAgIGNvbnNvbGUubG9nKGRldmljZSk7XHJcbiAgICAkKFwiLm5hdlwiKS5tZW51KCk7XHJcbn0pOyBcclxuXHJcblxyXG5mdW5jdGlvbiBmaW5kR2V0UGFyYW1ldGVyKHBhcmFtZXRlck5hbWUpIHtcclxuICAgIHZhciByZXN1bHQgPSBudWxsLFxyXG4gICAgICAgIHRtcCA9IFtdO1xyXG4gICAgbG9jYXRpb24uc2VhcmNoXHJcbiAgICAgICAgLnN1YnN0cigxKVxyXG4gICAgICAgIC5zcGxpdChcIiZcIilcclxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB0bXAgPSBpdGVtLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1ldGVyTmFtZSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tDb29raWUocGFyYW1ldGVyTmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgdG1wID0gW107XHJcbiAgICB2YXIgY29va2llID0gZG9jdW1lbnQuY29va2llO1xyXG4gICAgY29va2llLnNwbGl0KFwiO1wiKVxyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNoYXJBdCgwKSA9PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0uc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRtcCA9IGl0ZW0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAodG1wWzBdID09PSBwYXJhbWV0ZXJOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1wWzFdO1xyXG4gICAgICAgIH0pXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGRldmljZUNoZWNrKCkge1xyXG4gICAgdmFyIGRldmljZSA9IHt9O1xyXG4gICAgdmFyIG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBpZiAobWQubWF0Y2goL2FuZHJvaWQvaSkpIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcImFuZHJvaWRcIjtcclxuICAgICAgICBkZXZpY2UudmVyc2lvbiA9IG1kLnZlcnNpb24oXCJhbmRyb2lkXCIpO1xyXG4gICAgfSBlbHNlIGlmIChtZC5tYXRjaCgvKGlwaG9uZXxpcGFkfGlwb2QpOz8vaSkpIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcImlvc1wiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcImlPU1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGV2aWNlLm9zID0gXCJwY1wiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcIkNocm9tZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZXZpY2U7XHJcbn1cclxuXHJcblZ1ZS5taXhpbih7XHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFydERhdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIGVuZERhdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIHByb2plY3RTdGF0dXM6IG51bGwsIC8vIG51bGwgM1xyXG4gICAgICAgICAgICBlcnJvck1zZzogXCJcIixcclxuICAgICAgICAgICAgZW52TW9kZTogcHJvZHVjdGlvbiA/IFwiU3RhcnRlZFwiIDogXCJUZXN0aW5nXCIsXHJcbiAgICAgICAgICAgIG1haW5Ub2tlbjpcIlwiLFxyXG4gICAgICAgICAgICByZUNhcHRjaGE6IFwiXCIsXHJcbiAgICAgICAgICAgIGlzUGM6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcFBhZ2U6IFwiXCIsIC8vIHNhdmUgZmFpbCB3YXJuaW5nIGNvcnJlY3QgZXJyb3IgcG9wbG9hZGluZyBkb25lXHJcbiAgICAgICAgICAgIGFsZXJ0UG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbGVydFBhZ2U6IFwiXCIsIC8vIGFsZXJ0IG9vcHNcclxuICAgICAgICAgICAgZXZlbnRQb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBsb2FkUGFnZTogXCJcIiwgLy8gZm9ybWxvYWRpbmcgcG9wbG9hZGluZ1xyXG4gICAgICAgICAgICB3YXJuaW5nOiAwLFxyXG4gICAgICAgICAgICBzYXZlY2hlY2s6IHtcclxuICAgICAgICAgICAgICAgIHExOiAwLFxyXG4gICAgICAgICAgICAgICAgcTI6IDAsXHJcbiAgICAgICAgICAgICAgICBxMzogMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnYW1lQW5zOiB7XHJcbiAgICAgICAgICAgICAgICB0eHQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBcIlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBlcnJvck1zZzogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ19mcmVlemUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGd0bUV2ZW50OiBmdW5jdGlvbiAoZ3RtRGF0YSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImd0bTpcIiwgZ3RtRGF0YSk7XHJcbiAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKHsnZXZlbnQnOiBndG1EYXRhfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnYUV2ZW50KExhYmVsLEFjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhMYWJlbClcclxuICAgICAgICAgICAgZ2EoJ3NlbmQnLCB7XHJcbiAgICAgICAgICAgICAgICBoaXRUeXBlOiAnZXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRDYXRlZ29yeTogXCIyMDIwMDdfSElMVVhNQ1wiLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRBY3Rpb246IEFjdGlvbixcclxuICAgICAgICAgICAgICAgIGV2ZW50TGFiZWw6IExhYmVsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3RhZ0V2ZW50KExhYmVsLGd0YWdEYXRhKSB7XHJcbiAgICAgICAgICAgIGd0YWcoJ2V2ZW50JyxndGFnRGF0YSx7XHJcbiAgICAgICAgICAgICAgICAnZXZlbnRfY2F0ZWdvcnknOiAnMjAyMDA3X0hJTFVYTUMnLFxyXG4gICAgICAgICAgICAgICAgJ2V2ZW50X2xhYmVsJzogTGFiZWxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlcnZlcl9idXN5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZtLmVycm9yTXNnID0gXCLns7vntbHlv5nnoozkuK3vvIzoq4vnqI3lvozlnKjoqaYhXCI7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0uZXJyb3JDb3UgPSA2O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0Q29va2llOiBmdW5jdGlvbiAoY25hbWUsIGN2YWx1ZSwgdGltZSkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArICh0aW1lICogMTAwMCkpO1xyXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO1wiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nZ2VyOiBmdW5jdGlvbiAobGV2ZWwsIGNvbnRlbnQsIHRhZykge1xyXG4gICAgICAgICAgICBpZiAocHJvZHVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWwgOiBbJ0VSUk9SJyA9PiAwLCBERUJVRycgPT4gMSwgJ1dBUk5JTkcnID0+IDIsICdJTkZPJyA9PiAzLCAnQUxMJyA9PiA0XVxyXG4gICAgICAgICAgICAgICAgdmFyIGxldmVsX2luZm8gPSBbJ0VSUk9SJywgJ0RFQlVHJywgJ1dBUk5JTkcnLCAnSU5GTycsICdBTEwnXTtcclxuICAgICAgICAgICAgICAgIF9MVHJhY2tlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAnbGV2ZWwnOiBsZXZlbF9pbmZvW2xldmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYXRoJzogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RhZyc6IHRhZyB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdkZXZpY2UnOiBkZXZpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RpbWVzdGFtcCc6IERhdGUubm93KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja09ubGluZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5vbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiSW50ZXJuZXQg6YCj57ea5bey5pa36ZaL77yM6KuL56K66KqN5oKo55qE57ay6Lev54uA5oWL44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzY3JvbGxUbzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgJChcImh0bWwsYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJChlKS5vZmZzZXQoKS50b3AgLSB2bS5uYXZIZWlnaHRcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldFRva2VuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6IFwiaHR0cHM6Ly9jYXJyZWZvdXIyMDE5Y255LmF6dXJld2Vic2l0ZXMubmV0L2FwaS9hdXRoL2xvZ2luP3Byb2plY3RJZD02MVwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH10b2tlbmAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ3ZWJUb2tlblwiOiBcIlk3THBzQTZkNVZEUmpxZVdCMUY2Y0E9PVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIC8vIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgICAgICB2bS5tYWluVG9rZW4gPSByZXMudG9rZW47XHJcbiAgICAgICAgICAgICAgICB2bS5zdGFydERhdGUgPSByZXMuc3RhcnREYXRlO1xyXG4gICAgICAgICAgICAgICAgdm0uZW5kRGF0ZSA9IHJlcy5lbmREYXRlO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvamVjdFN0YXR1cyA9IHJlcy5wcm9qZWN0U3RhdHVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdyZWNhcHRjaGE6IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBncmVjYXB0Y2hhLmV4ZWN1dGUoJzZMZlh5YkFaQUFBQUFBSVZhT3pFdGFQLU4xbV9aaDN0WDdmdGFJeHAnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBwYWdlXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLnJlQ2FwdGNoYSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdHb29nbGXpqZforYnlpLHmlZfvvIzoq4vlho3mrKHlmJfoqaZcXG7lpoLnhKHms5XmjpLpmaTmraTllY/poYzvvIzlu7rorbDph43mlrDmlbTnkIbmraTpoIHpnaInKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9wQ2xvc2UobW9kZSkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdm0uZXZlbnRQb3B1cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobW9kZSAhPSAnZmInKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5wb3B1cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdm0ucG9wUGFnZSA9IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2bS5hbGVydFBvcHVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLmFsZXJ0UGFnZSA9IFwiXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBldmVudE9wZW4oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2bS5ldmVudFBvcHVwID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrQnJvd2VyKHBhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHUgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgICAgICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBpc0xpbmVBcHAgPSB1LmluZGV4T2YoXCJMaW5lXCIpID4gLTE7IC8vIExpbmUg5YWn5bu654CP6Ka95ZmoXHJcbiAgICAgICAgICAgIHZhciBpc0ZiQXBwID0gdS5pbmRleE9mKFwiRkJBVlwiKSA+IC0xOyAvLyBGQiBBcHAg5YWn5bu654CP6Ka95ZmoXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihpc0xpbmVBcHApIHtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly93d3cudG95b3RhLmNvbS50dy9ldmVudC8yMDIwMDdfSElMVVhNQy9pbmRleC5odG1sP29wZW5FeHRlcm5hbEJyb3dzZXI9MVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmICs9ICc/b3BlbkV4dGVybmFsQnJvd3Nlcj0xJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgKz0gJyZvcGVuRXh0ZXJuYWxCcm93c2VyPTEnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoICk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgICAgICAvLyBpZighbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgnSW5zdGFncmFtJykpIHtcclxuICAgICAgICAgICAgLy8gICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gNzY4KSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdm0uaXNQYyA9IHRydWVcclxuICAgICAgICAgICAgLy8gICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zdHlsZSA9IFwib3ZlcmZsb3c6IGhpZGRlblwiXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYocGFnZSAhPT0gXCJpbmRleFwiKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiaW5kZXguaHRtbFwiXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgdm0uaXNQYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5zdHlsZSA9IFwib3ZlcmZsb3c6IGhpZGRlblwiXHJcbiAgICAgICAgICAgICAgICBpZihwYWdlICE9PSBcImluZGV4XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcImluZGV4Lmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdm0uaXNQYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB9XHJcbn0pXHJcbiJdfQ==
