"use strict";var index_view=new Vue({el:"#app",data:{step:"kv"},methods:{getGuid:function(){var t=this;axios.post("".concat(t.friendo_url,"firework2021/code")).then(function(a){t.guid=a.data.data}).catch(function(a){console.log(a)})},lineOpen:function(){this.sendLoading=!0,location.href="award.html"},kvAni:function(){var a=.3,t=gsap.timeline({duration:1});t.from(".kv .ballon",{duration:a,opacity:0}),t.from(".kv .deco",{duration:a,opacity:0},"-=0.3"),t.from(".kv .cloud",{duration:.6,opacity:0,scale:.8}),t.from(".kv .slogn",{duration:.6,opacity:0,scale:.8},"-=0.3"),t.from(".kv .acbtn",{duration:.6,opacity:0,y:50},"-=0.3"),t.from(".kv .ft",{duration:.6,opacity:0,y:50},"-=0.3")},playAni:function(){var e=this;Draggable.create(".dragbox",{type:"y",edgeResistance:1,bounds:".aniarea",dragResistance:.6,throwProps:!0,inertia:!0,onDragStart:function(){clearTimeout(t),e.gaEvant("互動頁_拉拉炮");var a=gsap.timeline();document.querySelector(".playhand").style="display: none",document.querySelector(".playkv").style="display: none",a.to(".playitem",{duration:.3,scaleY:.7}),a.to(".playback",{duration:.3,scaleY:.4,y:5},"-=0.3"),a.to(".playline",{duration:.6,y:10},"-=0.6")},onDragEnd:function(){o()}});var t=setTimeout(function(){e.gaEvant("互動頁_拉拉炮");var a=gsap.timeline();document.querySelector(".playhand").style="display: none",document.querySelector(".playkv").style="display: none",a.to(".playitem",{duration:.6,scaleY:.7}),a.to(".playback",{duration:.6,scaleY:.4,y:5},"-=0.6"),o()},3600);function o(){document.querySelector(".aniarea .dragbox").style.display="none";var a=gsap.timeline({onComplete:function(){for(var a=1;a<4;a++)document.querySelector(".aniarea .robbin-b-b".concat(a)).classList.add("robbin-b-b".concat(a,"--active")),document.querySelector(".aniarea .robbin-b-w".concat(a)).classList.add("robbin-b-w".concat(a,"--active")),document.querySelector(".aniarea .robbin-b-y".concat(a)).classList.add("robbin-b-y".concat(a,"--active")),document.querySelector(".aniarea .robbin-b-r".concat(a)).classList.add("robbin-b-r".concat(a,"--active"));for(var t=1;t<10;t++)document.querySelector(".aniarea .robbin-s-b".concat(t)).classList.add("robbin-s-b".concat(t,"--active")),document.querySelector(".aniarea .robbin-s-w".concat(t)).classList.add("robbin-s-w".concat(t,"--active")),document.querySelector(".aniarea .robbin-s-y".concat(t)).classList.add("robbin-s-y".concat(t,"--active")),document.querySelector(".aniarea .robbin-s-r".concat(t)).classList.add("robbin-s-r".concat(t,"--active"));setTimeout(function(){e.happyNewYear()},1200)}});a.to(".playline",{duration:.6,y:750}),a.to(".playitem",{duration:.6,y:250}),a.to(".playback",{duration:.6,y:255},"-=0.6"),a.to(".playitem",{duration:.3,scaleY:1},"+=0.3"),a.to(".playback",{duration:.3,scaleY:1},"-=0.3"),a.to(".aniarea .ballon",{duration:.3,opacity:0},"-=0.3"),a.to(".aniarea .robbinarea",{duration:.3,opacity:1},"-=0.3")}},happyNewYear:function(){var a=this,t=gsap.timeline({onComplete:function(){document.querySelector(".robbinrichart").classList.add("robbinrichart-active"),document.querySelector(".ballon2021").classList.add("ballon2021-active"),setTimeout(function(){a.step="linelogin",setTimeout(function(){a.sliderOpen()},100)},2400)}});t.to(".playarea",{duration:.3,opacity:0}),t.to(".playback",{duration:.3,opacity:0},"-=0.3"),t.to(".aniarea .robbinarea",{duration:.3*3,opacity:0,y:150}),t.to(".happynewyear",{duration:1.5,opacity:1,y:100},"-=0.6");for(var e=1;e<9;e++)t.set(".fireworkarea .firework".concat(e),{className:"+=firework firework".concat(e," firework").concat(e,"--active")},"-=1.8")},openAward:function(){window.location="https://sp-develop.azurewebsites.net/firework2021/award?User=".concat(this.guid,"&Status=1")},togame:function(){var a=this;a.step="aniplay",document.querySelector(".nav").style.display="none",setTimeout(function(){a.playAni()},100)},sliderOpen:function(){tns({container:".slickbd",controlsContainer:".slickctr",prevButton:".prev",nextButton:".next",items:1,startIndex:this.startItem,autoplay:!0,controls:!0,nav:!1})},checkTime:function(){new Date<new Date("2020/12/29 09:00:00")?alert("活動尚未開始"):this.togame()}},created:function(){this.checkbrowser(),this.checkWeek()},mounted:function(){loadpage("init"),this.kvAni()}});