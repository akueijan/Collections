"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var production=!1===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=production;var md=new MobileDetect(window.navigator.userAgent),tag=document.createElement("script");function findGetParameter(t){var n=null,o=[];return location.search.substr(1).split("&").forEach(function(e){(o=e.split("="))[0]===t&&(n=decodeURIComponent(o[1]))}),n}function checkCookie(t){var n=null,o=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(o=e.split("="))[0]===t&&(n=o[1])}),n}function deviceCheck(){var e={},t=new MobileDetect(window.navigator.userAgent);return t.match(/android/i)?(e.os="android",e.version=t.version("android")):t.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=t.version("iOS")):(e.os="pc",e.version=t.version("Chrome")),e}$(function(){console.log("v1.0"),console.log(device),$(".nav").menu()}),Vue.mixin({data:function(){return{status:"",startDate:"",endDate:"",projectStatus:null,errorMsg:"",envMode:production?"Started":"Testing",loading:!1,mainToken:"",isPc:!1,popup:!1,poPage:""}},computed:{},watch:{errorMsg:function(e){$("body").toggleClass("_freeze")}},methods:{gaEvant:function(e){dataLayer.push({event:e}),console.log("ga:",e)},server_busy:function(){var e=this;e.errorMsg="系統忙碌中，請稍後在試!",e.loading=!1,e.errorCou=6},setCookie:function(e,t,n){var o=new Date;o.setTime(o.getTime()+1e3*n);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";"},logger:function(e,t,n){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(t),path:window.location.href,tag:n||null,device:device,timestamp:Date.now()})}},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},scrollTo:function(e){$("html,body").animate({scrollTop:$(e).offset().top},500)},getToken:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"auth/login?projectId=66"),headers:{webtoken:"WBqIHc9hTmwyL+g9m0ykfA=="},method:"GET",dataType:"json"}).done(function(e){t.mainToken=e.token,t.startDate=e.startDate,t.endDate=e.endDate,t.projectStatus=e.projectStatus})},grecaptcha:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(n){var o=this;return new Promise(function(t,e){grecaptcha.execute("6LfUo7MUAAAAAJQAML08ruhPeYZvihLYaVvtuYrJ",{action:n}).then(function(e){o.reCaptcha=e,t()},function(){alert("Google驗證失敗，請再次嘗試\n如無法排除此問題，建議重新整理此頁面"),e()})})}),checkBrower:function(e){1e3<window.innerWidth?navigator.userAgent.match("Instagram")||navigator.userAgent.match("FB")?this.isPc=!1:(this.isPc=!0,document.querySelector("body").style="overflow: hidden","index"!==e&&(window.location="index.html")):this.isPc=!1},checkPage:function(e){"ios"===device.os||"android"===device.os?this.isPc=!1:(this.isPc=!0,document.querySelector("body").style="overflow: hidden","index"!==e&&(window.location="index.html"))},popClose:function(){this.popup=!1,this.poPage=""},eventOpen:function(e){this.popup=!0,this.poPage=e}},mounted:function(){}});var slickUse=function(){function n(e,t){_classCallCheck(this,n),this.bd=e,this.Slide=t}return _createClass(n,[{key:"Start",value:function(){$(this.bd).slick({arrows:!1,initialSlide:this.Slide})}},{key:"Next",value:function(){$(this.bd).slick("slickNext")}},{key:"Prev",value:function(){$(this.bd).slick("slickPrev")}},{key:"videoPlay",value:function(){var r;r=Math.floor($(this.bd+" video").length/2),$(this.bd).on("beforeChange",function(e,t,n,o){for(var i=0;i<r;i++)o===i?$("#video"+(i+1)).get(0).play():$("#video"+(i+1)).get(0).pause()})}}]),n}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiJCIsImRhdGEiLCJmcmllbmRvX3VybCIsImRldmljZSIsImRldmljZUNoZWNrIiwiVnVlIiwiY29uZmlnIiwiZGV2dG9vbHMiLCJkZWJ1ZyIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImZpbmRHZXRQYXJhbWV0ZXIiLCJwYXJhbWV0ZXJOYW1lIiwicmVzdWx0IiwibG9jYXRpb24iLCJzZWFyY2giLCJzcGxpdCIsInRtcCIsIml0ZW0iLCJkZWNvZGVVUklDb21wb25lbnQiLCJjaGVja0Nvb2tpZSIsImNvb2tpZSIsImNoYXJBdCIsInN1YnN0cmluZyIsImZvckVhY2giLCJNb2JpbGVEZXRlY3QiLCJ2ZXJzaW9uIiwib3MiLCJtYXRjaCIsIm1kIiwidGFnIiwiY29uc29sZSIsImxvZyIsIm1lbnUiLCJzdGF0dXMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicHJvamVjdFN0YXR1cyIsImVycm9yTXNnIiwiZW52TW9kZSIsImxvYWRpbmciLCJtYWluVG9rZW4iLCJpc1BjIiwicG9wdXAiLCJwb1BhZ2UiLCJjb21wdXRlZCIsInRvZ2dsZUNsYXNzIiwidmFsIiwiZ2FFdmFudCIsImRhdGFMYXllciIsInB1c2giLCJndG1EYXRhIiwic2VydmVyX2J1c3kiLCJ2bSIsInRoaXMiLCJzZXRDb29raWUiLCJjbmFtZSIsImN2YWx1ZSIsInRpbWUiLCJkIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9VVENTdHJpbmciLCJleHBpcmVzIiwibG9nZ2VyIiwibGV2ZWwiLCJjb250ZW50IiwibGV2ZWxfaW5mbyIsIkpTT04iLCJzdHJpbmdpZnkiLCJocmVmIiwidGltZXN0YW1wIiwibm93IiwiY2hlY2tPbmxpbmUiLCJvbkxpbmUiLCJhbGVydCIsInNjcm9sbFRvIiwiZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJnZXRUb2tlbiIsImFqYXgiLCJ1cmwiLCJjb25jYXQiLCJoZWFkZXJzIiwid2VidG9rZW4iLCJtZXRob2QiLCJkYXRhVHlwZSIsInJlcyIsInRva2VuIiwiZ3JlY2FwdGNoYSIsIl9ncmVjYXB0Y2hhIiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsInRvU3RyaW5nIiwicGFnZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXhlY3V0ZSIsImFjdGlvbiIsInRoZW4iLCJyZUNhcHRjaGEiLCJpbm5lcldpZHRoIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwicG9wQ2xvc2UiLCJtb3VudGVkIiwic2xpY2tVc2UiLCJldmVudE9wZW4iLCJiZCIsIlNsaWRlIiwiX2NsYXNzQ2FsbENoZWNrIiwic2xpY2siLCJhcnJvd3MiLCJpbml0aWFsU2xpZGUiLCJjdW4iLCJNYXRoIiwiZmxvb3IiLCJsZW5ndGgiLCJvbiIsImV2ZW50IiwiY3VycmVudFNsaWRlIiwibmV4dFNsaWRlIiwiaSIsImdldCIsInBhdXNlIl0sIm1hcHBpbmdzIjoibVpBQUEsSUFDSUEsWUFBMEMsSUFBN0JDLEVBQUUsVUFBVUMsS0FBSyxRQUM5QkMsWUFBY0YsRUFBRSxVQUFVQyxLQUFLLFFBRTdCRSxPQUFTQyxjQUVmQyxJQUFJQyxPQUFPQyxVQUFZUixXQUN2Qk0sSUFBSUMsT0FBT0UsT0FBU1QsV0FQcEJNLElBQ0lOLE9BQUFBLE9BQWVBLFdBR25CLElBQU1JLEdBQUFBLElBQVNDLGFBQWZLLE9BQUFDLFVBQUFDLFdBR0lMLElBQUpNLFNBQW1CQyxjQUFuQixVQWNBLFNBQVNDLGlCQUFpQkMsR0FBMUIsSUFBQUMsRUFBU0YsS0FDREUsRUFBTSxHQWFkLE9BYklDLFNBQ1VDLE9BQ1ZELE9BQVNDLEdBSUVDLE1BQVFBLEtBQ1BDLFFBQUEsU0FBV0wsSUFMdkJLLEVBQUFDLEVBQUFGLE1BQUEsTUFRQSxLQUFBSixJQUNIQyxFQUFBTSxtQkFBQUYsRUFBQSxPQUVRRyxFQUdMLFNBQUlDLFlBQVNaLEdBQ2JZLElBQU1SLEVBQU8sS0FF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QUlLLEVBQ0pBLEVBQU1DLEtBQUtDLE1BQU03SCxFQUFFeUQsS0FBSzRELEdBQUssVUFBVVMsT0FBUyxHQUNoRDlILEVBQUV5RCxLQUFLNEQsSUFBSVUsR0FBRyxlQUFnQixTQUFTQyxFQUFPUixFQUFPUyxFQUFjQyxHQWRqRSxJQUFGLElBQVdWLEVBQVgsRUFBaUJXLEVBQUFSLEVBQUFRLElBQ0xELElBREtDLEVBRURuSSxFQUFFLFVBQUtzSCxFQUFBQSxJQUFBQSxJQUFBQSxHQUFBQSxPQUUxQnRILEVBQUEsVUFBQW1JLEVBQUEsSUFBQUMsSUFBQSxHQUFBQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdFxyXG4gICAgcHJvZHVjdGlvbiA9ICQoXCIjYXBwanNcIikuZGF0YShcIm1vZGVcIikgPT09IGZhbHNlLFxyXG4gICAgZnJpZW5kb191cmwgPSAkKFwiI2FwcGpzXCIpLmRhdGEoXCJzaXRlXCIpO1xyXG5cclxuY29uc3QgZGV2aWNlID0gZGV2aWNlQ2hlY2soKTtcclxuXHJcblZ1ZS5jb25maWcuZGV2dG9vbHMgPSAhcHJvZHVjdGlvbjtcclxuVnVlLmNvbmZpZy5kZWJ1ZyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLnNpbGVudCA9IHByb2R1Y3Rpb247XHJcblxyXG52YXIgbWQgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuXHJcbnZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJ2MS4wXCIpO1xyXG4gICAgY29uc29sZS5sb2coZGV2aWNlKTtcclxuICAgICQoXCIubmF2XCIpLm1lbnUoKTtcclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gZmluZEdldFBhcmFtZXRlcihwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIGxvY2F0aW9uLnNlYXJjaFxyXG4gICAgICAgIC5zdWJzdHIoMSlcclxuICAgICAgICAuc3BsaXQoXCImXCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWNvZGVVUklDb21wb25lbnQodG1wWzFdKTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ29va2llKHBhcmFtZXRlck5hbWUpIHtcclxuICAgIHZhciByZXN1bHQgPSBudWxsLFxyXG4gICAgICAgIHRtcCA9IFtdO1xyXG4gICAgdmFyIGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZTtcclxuICAgIGNvb2tpZS5zcGxpdChcIjtcIilcclxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jaGFyQXQoMCkgPT0gXCIgXCIpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0bXAgPSBpdGVtLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1ldGVyTmFtZSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcFsxXTtcclxuICAgICAgICB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBkZXZpY2VDaGVjaygpIHtcclxuICAgIHZhciBkZXZpY2UgPSB7fTtcclxuICAgIHZhciBtZCA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgaWYgKG1kLm1hdGNoKC9hbmRyb2lkL2kpKSB7XHJcbiAgICAgICAgZGV2aWNlLm9zID0gXCJhbmRyb2lkXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiYW5kcm9pZFwiKTtcclxuICAgIH0gZWxzZSBpZiAobWQubWF0Y2goLyhpcGhvbmV8aXBhZHxpcG9kKTs/L2kpKSB7XHJcbiAgICAgICAgZGV2aWNlLm9zID0gXCJpb3NcIjtcclxuICAgICAgICBkZXZpY2UudmVyc2lvbiA9IG1kLnZlcnNpb24oXCJpT1NcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwicGNcIjtcclxuICAgICAgICBkZXZpY2UudmVyc2lvbiA9IG1kLnZlcnNpb24oXCJDaHJvbWVcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGV2aWNlO1xyXG59XHJcblxyXG5WdWUubWl4aW4oe1xyXG4gICAgZGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXR1czogXCJcIixcclxuICAgICAgICAgICAgc3RhcnREYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBlbmREYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBwcm9qZWN0U3RhdHVzOiBudWxsLFxyXG4gICAgICAgICAgICBlcnJvck1zZzogXCJcIixcclxuICAgICAgICAgICAgZW52TW9kZTogcHJvZHVjdGlvbiA/IFwiU3RhcnRlZFwiIDogXCJUZXN0aW5nXCIsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBtYWluVG9rZW46XCJcIixcclxuICAgICAgICAgICAgaXNQYzogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9QYWdlOiBcIlwiIC8vIGV2ZW50cyB0b3BsYXlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6IHtcclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgIGVycm9yTXNnOiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnX2ZyZWV6ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgZ2FFdmFudDogZnVuY3Rpb24gKGd0bURhdGEpIHtcclxuICAgICAgICAgICAgZGF0YUxheWVyLnB1c2goeydldmVudCc6IGd0bURhdGF9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnYTpcIiwgZ3RtRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXJ2ZXJfYnVzeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2bS5lcnJvck1zZyA9IFwi57O757Wx5b+Z56KM5Lit77yM6KuL56iN5b6M5Zyo6KmmIVwiO1xyXG4gICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLmVycm9yQ291ID0gNjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldENvb2tpZTogZnVuY3Rpb24gKGNuYW1lLCBjdmFsdWUsIHRpbWUpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAodGltZSAqIDEwMDApKTtcclxuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgXCI9XCIgKyBjdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZ2dlcjogZnVuY3Rpb24gKGxldmVsLCBjb250ZW50LCB0YWcpIHtcclxuICAgICAgICAgICAgaWYgKHByb2R1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIGxldmVsIDogWydFUlJPUicgPT4gMCwgREVCVUcnID0+IDEsICdXQVJOSU5HJyA9PiAyLCAnSU5GTycgPT4gMywgJ0FMTCcgPT4gNF1cclxuICAgICAgICAgICAgICAgIHZhciBsZXZlbF9pbmZvID0gWydFUlJPUicsICdERUJVRycsICdXQVJOSU5HJywgJ0lORk8nLCAnQUxMJ107XHJcbiAgICAgICAgICAgICAgICBfTFRyYWNrZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2xldmVsJzogbGV2ZWxfaW5mb1tsZXZlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBKU09OLnN0cmluZ2lmeShjb250ZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAncGF0aCc6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWcnOiB0YWcgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAnZGV2aWNlJzogZGV2aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tPbmxpbmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkludGVybmV0IOmAo+e3muW3suaWt+mWi++8jOiri+eiuuiqjeaCqOeahOe2sui3r+eLgOaFi+OAglwiKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2Nyb2xsVG86IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgICQoXCJodG1sLGJvZHlcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoZSkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vY2FycmVmb3VyMjAxOWNueS5henVyZXdlYnNpdGVzLm5ldC9hcGkvYXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjFcIixcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9YXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjZgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwid2VidG9rZW5cIjogXCJXQnFJSGM5aFRtd3lMK2c5bTB5a2ZBPT1cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIHZtLm1haW5Ub2tlbiA9IHJlcy50b2tlbjtcclxuICAgICAgICAgICAgICAgIHZtLnN0YXJ0RGF0ZSA9IHJlcy5zdGFydERhdGU7XHJcbiAgICAgICAgICAgICAgICB2bS5lbmREYXRlID0gcmVzLmVuZERhdGU7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9qZWN0U3RhdHVzID0gcmVzLnByb2plY3RTdGF0dXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3JlY2FwdGNoYTogZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIGdyZWNhcHRjaGEuZXhlY3V0ZSgnNkxmVW83TVVBQUFBQUpRQU1MMDhydWhQZVladmloTFlhVnZ0dVlySicsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHBhZ2VcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVDYXB0Y2hhID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0dvb2dsZempl+itieWkseaVl++8jOiri+WGjeasoeWYl+ipplxcbuWmgueEoeazleaOkumZpOatpOWVj+mhjO+8jOW7uuitsOmHjeaWsOaVtOeQhuatpOmggemdoicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja0Jyb3dlcihwYWdlKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoICk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgICAgICAvLyBpZighbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgnSW5zdGFncmFtJykpIHtcclxuICAgICAgICAgICAgLy8gICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gMTAyMykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHZtLmlzUGljID0gdHJ1ZVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLnN0eWxlID0gXCJvdmVyZmxvdzogaGlkZGVuXCJcclxuICAgICAgICAgICAgLy8gICAgICAgICBpZihwYWdlICE9PSBcImluZGV4XCIpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCJpbmRleC5odG1sXCJcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHZtLmlzUGljID0gZmFsc2VcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIHZtLmlzUGljID0gZmFsc2VcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCdJbnN0YWdyYW0nKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCdGQicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uaXNQYyA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmlzUGMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc3R5bGUgPSBcIm92ZXJmbG93OiBoaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhZ2UgIT09IFwiaW5kZXhcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcImluZGV4Lmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZtLmlzUGMgPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja1BhZ2UocGFnZSkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYoZGV2aWNlLm9zID09PSBcImlvc1wiIHx8IGRldmljZS5vcyA9PT0gXCJhbmRyb2lkXCIpIHtcclxuICAgICAgICAgICAgICAgIHZtLmlzUGMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZtLmlzUGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuc3R5bGUgPSBcIm92ZXJmbG93OiBoaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgaWYocGFnZSAhPT0gXCJpbmRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCJpbmRleC5odG1sXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9wQ2xvc2UoKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZtLnBvcHVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLnBvUGFnZSA9IFwiXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBldmVudE9wZW4oZWwpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdm0ucG9wdXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB2bS5wb1BhZ2UgPSBlbFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgIH1cclxufSlcclxuXHJcbmNsYXNzIHNsaWNrVXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGJkLCBTbGlkZSkge1xyXG4gICAgICAgIHRoaXMuYmQgPSBiZDtcclxuICAgICAgICB0aGlzLlNsaWRlID0gU2xpZGVcclxuICAgICAgICAvLyB0aGlzLnByZXYgPSBwcmV2O1xyXG4gICAgICAgIC8vIHRoaXMubmV4dCA9IG5leHRcclxuICAgIH1cclxuICAgIFN0YXJ0KCkge1xyXG4gICAgICAgICQodGhpcy5iZCkuc2xpY2soe1xyXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbml0aWFsU2xpZGU6IHRoaXMuU2xpZGVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIE5leHQoKSB7XHJcbiAgICAgICAgJCh0aGlzLmJkKS5zbGljayhcInNsaWNrTmV4dFwiKTtcclxuICAgIH1cclxuICAgIFByZXYoKSB7XHJcbiAgICAgICAgJCh0aGlzLmJkKS5zbGljayhcInNsaWNrUHJldlwiKTtcclxuICAgIH1cclxuICAgIHZpZGVvUGxheSgpIHtcclxuICAgICAgICB2YXIgY3VuO1xyXG4gICAgICAgIGN1biA9IE1hdGguZmxvb3IoJCh0aGlzLmJkICsgXCIgdmlkZW9cIikubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgJCh0aGlzLmJkKS5vbignYmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIHNsaWNrLCBjdXJyZW50U2xpZGUsIG5leHRTbGlkZSl7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5leHRTbGlkZSk7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGN1bjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZihuZXh0U2xpZGUgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjdmlkZW8nKyhpKzEpKS5nZXQoMCkucGxheSgpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyN2aWRlbycrKGkrMSkpLmdldCgwKS5wYXVzZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdfQ==
