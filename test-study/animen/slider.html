<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<style>
	ul,li{
		padding: 0;
		margin: 0;
		list-style: none;
	}
	.wrap{
		width: 1024px;
		margin: 0 auto;
	}
	.content{
		width: 1024px;
		height: 300px;
		position: relative;
		overflow: hidden;
	}
	.content li{
		width: 1024px;
		height: 280px;
		left: 0%;
		position: absolute;
	}
	.red{
		background-color: red;
	}
	.blue{
		background-color: blue;
	}
	.green{
		background-color: green;
	}
</style>
<body>
	<div class="wrap">
		<div id="slider" class="content">
			<ul>
				<li class="red"></li>
				<li class="blue"></li>
				<li class="green"></li>
			</ul>
		</div>
		<div class="ctrl">
			<div class="next">next</div>
			<div class="prev">prev</div>
		</div>
		<div>
			<ul>
				<li>1.設定sliderIndex為第一張圖片</li>
				<li>2.使用carousel()方法來改變第一張圖的狀態</li>
				<li>3.當使用者點擊下一張或上一張時，觸發換圖事件trans()</li>
				<li>4.事件trans()改變sliderIndex為+1或是-1</li>
				<li>5.一開始時，事件trans把所有的圖片設為隱藏，並在圖片有一個sliderIndex值時，狀態改變為block</li>
				<li>6.如果sliderIndex的值超過圖片的最大數量時，就把sliderIndex設為0</li>
				<li>7.如果sliderIndex的值小於1時，就設置為最大長度的值</li>
			</ul>
		</div>
	</div>


<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
var dSlider = $('#slider');
var x = dSlider.find('ul li'); //#slider > ul li
var sliIndex = 0; //輪播圖的序號為0
var i;
carousel();

function carousel(){
	for(i = 0; i < x.length; i++) {
		x[i].style.display = "none";
	}
	sliIndex++; //輪播圖序號一直+1
	if (sliIndex > x.length) {sliIndex = 1}
	x[sliIndex - 1].style.display = "block";
	setTimeout(carousel, 4000);
};


function trans(n){
	showDivs(sliIndex += n);
};

function showDivs(n){
	if (n > x.length) {sliIndex = 1}
	if (n < 1) {sliIndex = x.length}
	for (i = 0; i < x.length; i++) {
		x[i].style.display = "none";
	}
	x[sliIndex-1].style.display = "block";
}

$('.next').click(function(){
	trans(1);
});


$('.prev').click(function(){
	trans(-1);
});

</script>
</body>
</html>