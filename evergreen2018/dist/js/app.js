"use strict";var production="false"===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();function findGetParameter(o){var t=null,n=[];return location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===o&&(t=decodeURIComponent(n[1]))}),t}function checkCookie(o){var t=null,n=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(n=e.split("="))[0]===o&&(t=n[1])}),t}function deviceCheck(){var e={},o=new MobileDetect(window.navigator.userAgent);return o.match(/android/i)?(e.os="android",e.version=o.version("android")):o.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=o.version("iOS")):(e.os="pc",e.version=o.version("Chrome")),e}Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=!production,$(function(){console.log("v1",device.os,device.version),$(".nav").menu()}),Vue.mixin({data:function(){return{status:"",start_date:"2100/08/09 12:09:10",error_msg:"",mode:production?"Started":"Testing",loading:!1}},computed:{openCome:function(){return!("Testing"==this.mode||start_date<=0)}},watch:{error_msg:function(e){$("body").toggleClass("_freeze")}},methods:{gaEvant:function(e){dataLayer.push(e),console.log("ga:",e)},server_busy:function(){var e=this;e.error_msg="系統忙碌中，請稍後在試!",e.loading=!1,e.error_cou=6},setCookie:function(e,o,t){var n=new Date;n.setTime(n.getTime()+1e3*t);var i="expires="+n.toUTCString();document.cookie=e+"="+o+";"+i+";"},logger:function(e,o,t){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(o),path:window.location.href,tag:t||null,device:device,timestamp:Date.now()})}},errorDone:function(){this.error_msg=""},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},state_check:function(){var t=this;return $.ajax({method:"GET",url:friendo_url+"GetProjectInfo",success:function(e){var o=e.Data;t.start_date=o.StartDateTime,t.mode=o.Status}})}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiJCIsImRhdGEiLCJkZXZpY2UiLCJkZXZpY2VDaGVjayIsImZpbmRHZXRQYXJhbWV0ZXIiLCJwYXJhbWV0ZXJOYW1lIiwicmVzdWx0IiwibG9jYXRpb24iLCJ0bXAiLCJzZWFyY2giLCJpdGVtIiwiZm9yRWFjaCIsInNwbGl0IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2hlY2tDb29raWUiLCJjb29raWUiLCJkb2N1bWVudCIsInN1YnN0cmluZyIsImNoYXJBdCIsIm1kIiwiTW9iaWxlRGV0ZWN0Iiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVyc2lvbiIsIm9zIiwibWl4aW4iLCJWdWUiLCJjb25maWciLCJkZXZ0b29scyIsImRlYnVnIiwiY29uc29sZSIsImxvZyIsImVycm9yX21zZyIsIm1vZGUiLCJsb2FkaW5nIiwic3RhdHVzIiwic3RhcnRfZGF0ZSIsImNvbXB1dGVkIiwib3BlbkNvbWUiLCJ3YXRjaCIsInRoaXMiLCJ0b2dnbGVDbGFzcyIsIm1ldGhvZHMiLCJnYUV2YW50IiwidmFsIiwiZGF0YUxheWVyIiwicHVzaCIsInNlcnZlcl9idXN5Iiwidm0iLCJndG1EYXRhIiwic2V0Q29va2llIiwiRGF0ZSIsImQiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImVycm9yX2NvdSIsImNuYW1lIiwiY3ZhbHVlIiwidGltZSIsImxvZ2dlciIsImV4cGlyZXMiLCJ0b1VUQ1N0cmluZyIsImxldmVsX2luZm8iLCJsZXZlbCIsIl9MVHJhY2tlciIsInRhZyIsIm5vdyIsImNvbnRlbnQiLCJKU09OIiwic3RyaW5naWZ5IiwicGF0aCIsImhyZWYiLCJhbGVydCIsImNoZWNrT25saW5lIiwic3RhdGVfY2hlY2siLCJvbkxpbmUiLCJzdWNjZXNzIiwiYWpheCIsInJlcyIsIkRhdGEiLCJTdGFydERhdGVUaW1lIiwiU3RhdHVzIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUNJQSxXQUEwQyxVQUE3QkMs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SUFBQTlFLEVBQUE4RSxFQUFBQyxLQXBESS9CLEVBQUFaLFdBQUFwQyxFQUFBZ0YsY0FzRFRoQyxFQUFBZixLQUFBakMsRUFBQWlGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0XHJcbiAgICBwcm9kdWN0aW9uID0gJChcIiNhcHBqc1wiKS5kYXRhKFwibW9kZVwiKSA9PT0gXCJmYWxzZVwiLFxyXG4gICAgZnJpZW5kb191cmwgPSAkKFwiI2FwcGpzXCIpLmRhdGEoXCJzaXRlXCIpO1xyXG5cclxuY29uc3QgZGV2aWNlID0gZGV2aWNlQ2hlY2soKTtcclxuVnVlLmNvbmZpZy5kZXZ0b29scyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLmRlYnVnID0gIXByb2R1Y3Rpb247XHJcblZ1ZS5jb25maWcuc2lsZW50ID0gIXByb2R1Y3Rpb247XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwidjFcIiwgZGV2aWNlLm9zLCBkZXZpY2UudmVyc2lvbik7XHJcbiAgICAkKFwiLm5hdlwiKS5tZW51KCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gZmluZEdldFBhcmFtZXRlcihwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIGxvY2F0aW9uLnNlYXJjaFxyXG4gICAgICAgIC5zdWJzdHIoMSlcclxuICAgICAgICAuc3BsaXQoXCImXCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWNvZGVVUklDb21wb25lbnQodG1wWzFdKTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ29va2llKHBhcmFtZXRlck5hbWUpIHtcclxuICAgIGxldCByZXN1bHQgPSBudWxsLFxyXG4gICAgICAgIHRtcCA9IFtdO1xyXG4gICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZTtcclxuICAgIGNvb2tpZS5zcGxpdChcIjtcIilcclxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jaGFyQXQoMCkgPT0gXCIgXCIpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0bXAgPSBpdGVtLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1ldGVyTmFtZSlcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcFsxXTtcclxuICAgICAgICB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gZGV2aWNlQ2hlY2soKSB7XHJcbiAgICBsZXQgZGV2aWNlID0ge307XHJcbiAgICBsZXQgbWQgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmIChtZC5tYXRjaCgvYW5kcm9pZC9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiYW5kcm9pZFwiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcImFuZHJvaWRcIik7XHJcbiAgICB9IGVsc2UgaWYgKG1kLm1hdGNoKC8oaXBob25lfGlwYWR8aXBvZCk7Py9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiaW9zXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiaU9TXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcInBjXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiQ2hyb21lXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRldmljZTtcclxufVxyXG5cclxuVnVlLm1peGluKHtcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YXJ0X2RhdGU6IFwiMjEwMC8wOC8wOSAxMjowOToxMFwiLFxyXG4gICAgICAgICAgICBlcnJvcl9tc2c6IFwiXCIsXHJcbiAgICAgICAgICAgIG1vZGU6IHByb2R1Y3Rpb24gPyBcIlN0YXJ0ZWRcIiA6IFwiVGVzdGluZ1wiLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wdXRlZDoge1xyXG4gICAgICAgIG9wZW5Db21lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhKHRoaXMubW9kZSA9PSBcIlRlc3RpbmdcIiB8fCBzdGFydF9kYXRlIDw9IDApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgIGVycm9yX21zZzogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ19mcmVlemUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGdhRXZhbnQ6IGZ1bmN0aW9uIChndG1EYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKGd0bURhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImdhOlwiLCBndG1EYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlcnZlcl9idXN5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZtLmVycm9yX21zZyA9IFwi57O757Wx5b+Z56KM5Lit77yM6KuL56iN5b6M5Zyo6KmmIVwiO1xyXG4gICAgICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLmVycm9yX2NvdSA9IDY7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRDb29raWU6IGZ1bmN0aW9uIChjbmFtZSwgY3ZhbHVlLCB0aW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKHRpbWUgKiAxMDAwKSk7XHJcbiAgICAgICAgICAgIHZhciBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZC50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7XCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsb2dnZXI6IGZ1bmN0aW9uIChsZXZlbCwgY29udGVudCwgdGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9kdWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZXZlbCA6IFsnRVJST1InID0+IDAsIERFQlVHJyA9PiAxLCAnV0FSTklORycgPT4gMiwgJ0lORk8nID0+IDMsICdBTEwnID0+IDRdXHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWxfaW5mbyA9IFsnRVJST1InLCAnREVCVUcnLCAnV0FSTklORycsICdJTkZPJywgJ0FMTCddO1xyXG4gICAgICAgICAgICAgICAgX0xUcmFja2VyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICdsZXZlbCc6IGxldmVsX2luZm9bbGV2ZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50JzogSlNPTi5zdHJpbmdpZnkoY29udGVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhdGgnOiB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgICAgICAgICAgICAgICAgICAndGFnJzogdGFnIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RldmljZSc6IGRldmljZSxcclxuICAgICAgICAgICAgICAgICAgICAndGltZXN0YW1wJzogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yRG9uZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yX21zZyA9IFwiXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja09ubGluZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5vbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiSW50ZXJuZXQg6YCj57ea5bey5pa36ZaL77yM6KuL56K66KqN5oKo55qE57ay6Lev54uA5oWL44CCXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0ZV9jaGVjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9R2V0UHJvamVjdEluZm9gLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB2bS5zdGFydF9kYXRlID0gZGF0YS5TdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLm1vZGUgPSBkYXRhLlN0YXR1cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gY29tcG9uZW50czoge1xyXG4gICAgLy8gICAgIGNvbWluZ3Nvb246IGNvbWluZ3Nvb25cclxuICAgIC8vIH1cclxufSlcclxuXHJcblxyXG4vLyBWdWUuY29tcG9uZW50KCdjb21pbmdzb29uJywge1xyXG4vLyAgICAgdGVtcGxhdGU6IFwiI2NvbWluZ3Nvb25cIixcclxuLy8gICAgIHByb3BzOiBbJ1N0YXJ0RGF0ZScsICdtb2RlJ10sXHJcbi8vICAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgICAgICAgY29taW5nc29vbjogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIGRhdGU6IHtcclxuLy8gICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgZGF5czogMCxcclxuLy8gICAgICAgICAgICAgICAgIGhvdXJzOiAwLFxyXG4vLyAgICAgICAgICAgICAgICAgbWludXRlczogMCxcclxuLy8gICAgICAgICAgICAgICAgIHNlY29uZHM6IDBcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdmFyIHBhZExlZnQgPSBmdW5jdGlvbiAoc3RyLCBsZW4pIHtcclxuLy8gICAgICAgICAgICAgc3RyID0gJycgKyBzdHI7XHJcbi8vICAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID49IGxlbikge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBwYWRMZWZ0KFwiMFwiICsgc3RyLCBsZW4pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfTtcclxuLy8gICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4vLyAgICAgICAgIC8vIHZtLnN0YXRlX2NoZWNrKCkudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbi8vICAgICAgICAgLy8gICAgIHZhciBkYXRhID0gcmVzLkRhdGE7XHJcbi8vICAgICAgICAgLy8gICAgIHZtLnN0YXJ0X2RhdGUgPSBkYXRhLlN0YXJ0RGF0ZVRpbWU7XHJcbi8vICAgICAgICAgdmFyIHRpbWVpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgdmFyIHQgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKHZtLlN0YXJ0RGF0ZSkpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcclxuLy8gICAgICAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKCh0IC8gMTAwMCkgJSA2MCk7XHJcbi8vICAgICAgICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigodCAvIDEwMDAgLyA2MCkgJSA2MCk7XHJcbi8vICAgICAgICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IoKHQgLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KTtcclxuLy8gICAgICAgICAgICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKHQgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xyXG4vLyAgICAgICAgICAgICB2bS5kYXRlID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgJ3RvdGFsJzogdCxcclxuLy8gICAgICAgICAgICAgICAgICdkYXlzJzogcGFkTGVmdChkYXlzLCAyKSxcclxuLy8gICAgICAgICAgICAgICAgICdob3Vycyc6IHBhZExlZnQoaG91cnMsIDIpLFxyXG4vLyAgICAgICAgICAgICAgICAgJ21pbnV0ZXMnOiBwYWRMZWZ0KG1pbnV0ZXMsIDIpLFxyXG4vLyAgICAgICAgICAgICAgICAgJ3NlY29uZHMnOiBwYWRMZWZ0KHNlY29uZHMsIDIpXHJcbi8vICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgIGlmICh2bS5kYXRlLnRvdGFsIDw9IDAgfHwgdm0ubW9kZSA9PSBcIlRlc3RpbmdcIikge1xyXG4vLyAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1laW50ZXJ2YWwpO1xyXG4vLyAgICAgICAgICAgICAgICAgdm0uY29taW5nc29vbiA9IGZhbHNlO1xyXG4vLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgdm0uY29taW5nc29vbiA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9LCAxMDAwKTtcclxuLy8gICAgICAgICAvLyB9KTtcclxuLy8gICAgIH0sXHJcbi8vIH0pIl19
