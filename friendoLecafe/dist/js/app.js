"use strict";function onYouTubeIframeAPIReady(){$("#index").length>0&&index_view.YT_init()}function findGetParameter(e){var o=null,n=[];return location.search.substr(1).split("&").forEach(function(t){(n=t.split("="))[0]===e&&(o=decodeURIComponent(n[1]))}),o}function checkCookie(e){var o=null,n=[];return document.cookie.split(";").forEach(function(t){" "==t.charAt(0)&&(t=t.substring(1)),(n=t.split("="))[0]===e&&(o=n[1])}),o}function deviceCheck(){var e={},o=new MobileDetect(window.navigator.userAgent);return o.match(/android/i)?(e.os="android",e.version=o.version("android")):o.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=o.version("iOS")):(e.os="pc",e.version=o.version("Chrome")),e}var production="false"===$("#appjs").attr("mode"),friendo_url=$("#appjs").attr("site"),device=deviceCheck();Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=!production,$(function(){console.log("v1",device.os,device.version),$(".nav").menu()}),Vue.mixin({data:function(){return{webToken:"uFzbcvZQVwIlwQaC8aktlA==",error_msg:"",error_cou:6,loading:!1}},watch:{error_msg:function(e){$("body").toggleClass("_freeze")}},methods:{gaEvant:function(e,o,n){ga("send","event",{eventCategory:o,eventAction:e,eventLabel:n}),fbq("trackCustom",e,{custom_param:"左岸_"+n}),console.log("ga:",e,o,n)},getAccessToken:function(e){var o=this;return o.logger(3,{text:"call api: GetAccessToken",data:e},"GetAccessToken"),new Promise(function(n){$.ajax({url:friendo_url+"GetAccessToken",method:"POST",headers:{Token:o.webToken,User:e},success:function(e){o.logger(3,{name:"GetAccessToken",result:e},"GetAccessToken")},error:function(e,n,t){console.log("GetAccessToken error:",e.statusText),o.logger(0,{name:"GetAccessToken",httpStatus:n,errorMsg:e.statusText},"GetAccessToken")},dataType:"json"}).then(function(e){o.setCookie("_AT",e.data,3600),n(e.data)})})},server_busy:function(){this.error_msg="系統忙碌中，請稍後在試!",this.loading=!1,this.error_cou=6},setCookie:function(e,o,n){var t=new Date;t.setTime(t.getTime()+1e3*n);var r="expires="+t.toUTCString();document.cookie=e+"="+o+";"+r+";"},logger:function(e,o,n){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(o),path:window.location.href,tag:n||null,device:device,timestamp:Date.now()})}},errorDone:function(){this.error_msg=""},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")}}});