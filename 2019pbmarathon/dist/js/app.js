"use strict";var _Vue$mixin;function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var production=!1===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=production;var isPc=768<screen.width,md=new MobileDetect(window.navigator.userAgent),isMobile=null!=md.phone()||null!=md.tablet(),tag=document.createElement("script");function findGetParameter(t){var o=null,n=[];return location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===t&&(o=decodeURIComponent(n[1]))}),o}function checkCookie(t){var o=null,n=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(n=e.split("="))[0]===t&&(o=n[1])}),o}function deviceCheck(){var e={},t=new MobileDetect(window.navigator.userAgent);t.match(/android/i)?(e.os="android",e.version=t.version("android")):t.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=t.version("iOS")):(e.os="pc",e.version=t.version("Chrome"));var o=t.ua.match(/(line|fb|ig|instagram)/i);return o?(e.browser=o[1].toLowerCase(),"line"==e.browser&&alert("請使用FB APP 或 預設瀏覽器\n開啟本連結，獲得最佳遊戲體驗！")):e.browser="default",e}$(function(){console.log("v1.5.2"),console.log(device)}),Vue.mixin((_defineProperty(_Vue$mixin={data:function(){return{status:"",start_date:"",error_msg:"",mode_status:"",loading:!1,popuptop:"",navHeight:"",rewardShake:!0,lineHref:"",popup:!1,popPage:"",popweek:0,FBmb_id:"",reCaptcha:"",scrollto:0,gToken:"",stateToken:"",top100Arr:[]}},computed:{},watch:{error_msg:function(e){$("body").toggleClass("_freeze")},popup:function(e){1==e?$("body").addClass("_freeze"):$("body").removeClass("_freeze")}},methods:{gaEvant:function(e){dataLayer.push({event:e})},server_busy:function(){var e=this;e.error_msg="系統忙碌中，請稍後在試!",e.loading=!1,e.error_cou=6},setCookie:function(e,t,o){var n=new Date;n.setTime(n.getTime()+1e3*o);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";"},logger:function(e,t,o){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(t),path:window.location.href,tag:o||null,device:device,timestamp:Date.now()})}},errorDone:function(){this.error_msg=""},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},uptoken:function(e){console.log("asfe"),this.gToken=e},Arrup:function(e){console.log("Arr"),this.top100Arr=e},state_Token:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"auth/login?projectId=66"),headers:{webtoken:"WBqIHc9hTmwyL+g9m0ykfA=="},method:"GET",dataType:"json"}).done(function(e){t.stateToken=e.token})},state_check:function(){var e={mb_id:this.FBmb_id};return $.ajax({url:"".concat(friendo_url,"comebest/getstatus"),headers:{Authorization:"Bearer "+this.stateToken},data:e,method:"POST",dataType:"json"})},getAppstate:function(){var e=this;e.state_Token().then(function(){e.state_check()})},scrollTo:function(e){console.log(321),$("html,body").animate({scrollTop:$(e).offset().top},500)},popClose:function(){this.popup=!1,this.popPage="",this.popweek=0,$("body").removeClass("_freeze"),$("html,body").scrollTop(this.scrollto)},InvoiceToken:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"auth/login"),headers:{WebToken:"WBqIHc9hTmwyL+g9m0ykfA=="},method:"GET",dataType:"json"}).done(function(e){t.invoToken=e.token})},invoiceSave:function(){var e=this,t={cell:e.mobile,inv_num:e.inv_num.toUpperCase(),random_number:e.inv_random,inv_date:e.inv_date,actToken:"nczlaBQUCB4hgiPmF8ro7Q==",captcha:e.reCaptcha};return $.ajax({url:"".concat(friendo_url,"invoice/savedata"),headers:{Authorization:"Bearer "+e.invoToken},data:t,method:"POST",dataType:"json"}).done(function(e){})},backfillSave:function(){var e=this,t={Code:e.userid,name:e.name,address:e.address,IdcardFront:e.IdcardFront,IdcardBack:e.IdcardBack,Bankbook:e.Bankbook,CertificatePhoto:e.CertificatePhoto,captcha:e.reCaptcha};return $.ajax({url:"".concat(friendo_url,"invoice/savedata"),headers:{Authorization:"Bearer "+e.gToken},data:t,method:"POST",dataType:"json"}).done(function(e){console.log("backfill:",e)})},GameToken:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"auth/login?projectId=66"),headers:{webtoken:"WBqIHc9hTmwyL+g9m0ykfA=="},method:"GET",dataType:"json"}).done(function(e){t.gToken=e.token})},deletetest:function(){return $.ajax({url:"".concat(friendo_url,"comebest/deletetest"),headers:{Authorization:"Bearer "+this.gToken},data:{mb_id:"f1b730fd-7f51-4555-923b-a4fa6de0d6c6"},method:"POST",dataType:"json"}).done(function(e){})},register:function(){var t=this;if(window.location.href.match(/(localhost)|(192.168.40)|(192.168.60)/i))e={token:"EAAeDMzq6cTUBAAXuCZAwOfeaj89pZABGGDUgUEyZBB5T1czzAGehstE5urNfOA3Pba7qk2vJ6kjPSWV65RyZBOXjOSTKZBxwzNuuHvmpx7oIeX1M2Ay3uZAzDZBkkw0aZB79kTzfYHl1aMNyN9a4JVz9yRDah9GxidKJZAXqddBiRnS4ZB2qjPQwV1i5ecRtHZAX9gVN0qxXw3G0hvUn6UVYSUm94rYonctBYen8G76GMDoMwZDZD",fb_id:"2592131487464378"};else var e={token:t.fbData.fbtoken,fb_id:t.fbData.fbId};return $.ajax({url:"".concat(friendo_url,"comebest/register"),headers:{Authorization:"Bearer "+t.gToken},data:e,method:"POST",dataType:"json"}).done(function(e){t.fbData.mb_id=e.data,t.getstatus()})},getstatus:function(){var t=this,e={mb_id:t.fbData.mb_id};return $.ajax({url:"".concat(friendo_url,"comebest/getstatus"),headers:{Authorization:"Bearer "+t.gToken},data:e,method:"POST",dataType:"json"}).done(function(e){t.fbData.fbName=e.data.name,t.fbData.fbPic=e.data.pic_url,t.game=new Game({memberData:t.fbData.mb_id})})},fbshare:function(){var e={mb_id:this.fbData.mb_id};return $.ajax({url:"".concat(friendo_url,"comebest/fbshare"),headers:{Authorization:"Bearer "+this.gToken},data:e,method:"POST",dataType:"json"}).done(function(e){})},savephone:function(){var e={mb_id:this.fbData.mb_id,phone:this.mobile};return $.ajax({url:"".concat(friendo_url,"comebest/savephone"),headers:{Authorization:"Bearer "+this.gToken},data:e,method:"POST",dataType:"json"}).done(function(e){})},top100:function(){var t=this,e={mb_id:t.FBmb_id};return $.ajax({url:"".concat(friendo_url,"comebest/top100"),headers:{Authorization:"Bearer "+t.gToken},data:e,method:"POST",dataType:"json"}).done(function(e){t.top100Arr=e.data})},getaward:function(){return $.ajax({url:"".concat(friendo_url,"comebest/LotteryResult/66"),headers:{Authorization:"Bearer "+this.gToken},method:"GET"}).done(function(e){console.log("getaward",e)})},getRecipientinfo:function(){var t=this;return $.ajax({url:"".concat(friendo_url,"comebest/recipientinfo/").concat(t.userid),headers:{Authorization:"Bearer "+t.gToken},method:"GET"}).done(function(e){e.success?(t.mobile=e.data.mobile,t.inv_num=e.data.referenceInfo,t.awarditem=e.data.awardName,t.type=e.data.referenceType):(alert("資料已回填或無法查獲此獎項"),window.location.href="./index.html")})},postRecipientinfo:function(){var e=this,t=new FormData;return t.append("CampaignId",66),t.append("Code",e.userid),t.append("Name",e.name),t.append("Address",e.address),t.append("IdcardFront",e.IdcardFront),t.append("IdcardBack",e.IdcardBack),t.append("Bankbook",e.Bankbook),t.append("Certificate",e.CertificatePhoto),t.append("reCaptcha",e.reCaptcha),t.append("FBId",e.fbData.fbId),$.ajax({url:"".concat(friendo_url,"comebest/recipientinfo"),headers:{Authorization:"Bearer "+e.gToken},data:t,method:"POST",processData:!1,contentType:!1}).done(function(e){})},navfbshare:function(){return window.open("https://www.facebook.com/sharer/sharer.php?u=https://campaign.friendo.com.tw/2019pbmarathon/index.html&hashtag=%23PowerBOMB人生不斷電馬拉松"),!1},navlineshare:function(){var e=encodeURIComponent("https://campaign.friendo.com.tw/2019pbmarathon/index.html?openExternalBrowser=1");window.open("http://line.naver.jp/R/msg/text/?挑戰PowerBOMB人生不斷電馬拉松抽PS4！登錄發票再抽現金99,999、Switch等多項好禮%0D%0A".concat(e),"_blank")},navOpen:function(){$(".nav-btn").click(function(){$(".nav").toggleClass("active"),$("body").toggleClass("_freeze")}),$(".nav-item").click(function(){$(".nav").removeClass("active"),$("body").removeClass("_freeze")})},grecaptcha:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(o){var n=this;return new Promise(function(t,e){grecaptcha.execute("6LfUo7MUAAAAAJQAML08ruhPeYZvihLYaVvtuYrJ",{action:o}).then(function(e){n.reCaptcha=e,t()},function(){alert("Google驗證失敗，請再次嘗試\n如無法排除此問題，建議重新整理此頁面"),e()})})}),getIe:function(){var t,e;function o(e){return 0<=t.indexOf(e)}"ie"==(t=window.navigator.userAgent,e="ActiveXObject"in window,o("MSIE")||e?"ie":o("Firefox")&&!e?"Firefox":o("Chrome")&&!e?"Chrome":o("Opera")&&!e?"Opera":o("Safari")&&!e?"Safari":void 0)&&alert("目前瀏覽器為舊版 IE，建議使用Chrome瀏覽器，獲得最佳遊戲體驗！")},top100Api:function(){var t=this,e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);console.log(e),t.top100Arr=e.data}},e.open("GET","./static/top100.json",!0),e.send()}},components:{comingsoon:comingsoon}},"watch",{}),_defineProperty(_Vue$mixin,"mounted",function(){}),_Vue$mixin)),Vue.component("comingsoon",{template:"#comingsoon",props:["start_date","mode_status"],data:function(){return{comingsoon:!1,comPage:"",start_date:"",mode_status:"",date:{total:0,days:0,hours:0,minutes:0,seconds:0}}},watch:{},mounted:function(){function r(e,t){return(e=""+e).length>=t?e:r("0"+e,t)}var i=this;i.state_Token().then(function(){i.state_check().then(function(e){e.data.game_status,1===e.data.game_status?(i.mode_status="comingsoon",i.start_date=e.data.start_date):i.mode_status="started"})});var c=setInterval(function(){var e=Date.parse(new Date(i.start_date))-Date.parse(new Date),t=Math.floor(e/1e3%60),o=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24),a=Math.floor(e/864e5);i.date={total:e,days:r(a,2),hours:r(n,2),minutes:r(o,2),seconds:r(t,2)},"started"==i.mode_status&&(clearInterval(c),i.comingsoon=!1,i.comPage="",$("body").removeClass("_freeze")),"timeover"==i.mode_status&&(i.comingsoon=!0,i.comPage="timeover",$("body").addClass("_freeze")),"comingsoon"==i.mode_status&&(i.comingsoon=!0,i.comPage="comingsoon",$("body").addClass("_freeze"))},1e3)}}),Vue.component("timeover",{template:"#timeover",props:["StartDate","mode_status"],data:function(){return{timeover:!0}},mounted:function(){this.timeover=!0,alert("timeover")}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiJCIsImRhdGEiLCJmcmllbmRvX3VybCIsImRldmljZSIsImRldmljZUNoZWNrIiwiVnVlIiwic2lsZW50IiwiY29uZmlnIiwiZGVidWciLCJ3aWR0aCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzUGMiLCJzY3JlZW4iLCJtZCIsInRhYmxldCIsImlzTW9iaWxlIiwicGhvbmUiLCJmaW5kR2V0UGFyYW1ldGVyIiwicGFyYW1ldGVyTmFtZSIsImxvY2F0aW9uIiwidG1wIiwic2VhcmNoIiwic3Vic3RyIiwicmVzdWx0IiwiZm9yRWFjaCIsIml0ZW0iLCJzcGxpdCIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvb2tpZSIsInN1YnN0cmluZyIsImNoYXJBdCIsIk1vYmlsZURldGVjdCIsIndpbmRvdyIsIm1hdGNoIiwidmVyc2lvbiIsIm9zIiwiYnJvd3NlciIsInRvTG93ZXJDYXNlIiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwic3RhcnRfZGF0ZSIsImVycm9yX21zZyIsInN0YXR1cyIsIm1vZGVfc3RhdHVzIiwicG9wdXB0b3AiLCJyZXdhcmRTaGFrZSIsImxpbmVIcmVmIiwicG9wUGFnZSIsInBvcHdlZWsiLCJGQm1iX2lkIiwicmVDYXB0Y2hhIiwic2Nyb2xsdG8iLCJzdGF0ZVRva2VuIiwidG9wMTAwQXJyIiwiZ1Rva2VuIiwiY29tcHV0ZWQiLCJ3YXRjaCIsInZhbCIsImFkZENsYXNzIiwidG9nZ2xlQ2xhc3MiLCJwb3B1cCIsInB1c2giLCJyZW1vdmVDbGFzcyIsIm1ldGhvZHMiLCJnYUV2YW50IiwiZ3RtRGF0YSIsImxvYWRpbmciLCJldmVudCIsInNldENvb2tpZSIsInZtIiwiRGF0ZSIsInNldFRpbWUiLCJleHBpcmVzIiwiZG9jdW1lbnQiLCJjbmFtZSIsImxvZ2dlciIsImxldmVsIiwiY29udGVudCIsInRhZyIsImQiLCJnZXRUaW1lIiwidGltZSIsImxldmVsX2luZm8iLCJ0b1VUQ1N0cmluZyIsImN2YWx1ZSIsInN0cmluZ2lmeSIsIl9MVHJhY2tlciIsIkpTT04iLCJwYXRoIiwiaHJlZiIsInRpbWVzdGFtcCIsIm5vdyIsInRoaXMiLCJ1cHRva2VuIiwib25MaW5lIiwibmV3VmFsIiwic3RhdGVfVG9rZW4iLCJBcnJ1cCIsImFqYXgiLCJBcnIiLCJtZXRob2QiLCJ1cmwiLCJjb25jYXQiLCJyZXMiLCJoZWFkZXJzIiwidG9rZW4iLCJkYXRhVHlwZSIsImRvbmUiLCJwb3N0X2RhdGEiLCJzdGF0ZV9jaGVjayIsIm1iX2lkIiwiQXV0aG9yaXphdGlvbiIsImdldEFwcHN0YXRlIiwidGhlbiIsInNjcm9sbFRvIiwiZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJwb3BDbG9zZSIsIkludm9pY2VUb2tlbiIsImludm9Ub2tlbiIsIldlYlRva2VuIiwidG9VcHBlckNhc2UiLCJpbnZvaWNlU2F2ZSIsIm1vYmlsZSIsImludl9udW0iLCJyYW5kb21fbnVtYmVyIiwiaW52X3JhbmRvbSIsImludl9kYXRlIiwiYWN0VG9rZW4iLCJjYXB0Y2hhIiwibmFtZSIsImJhY2tmaWxsU2F2ZSIsIkNvZGUiLCJ1c2VyaWQiLCJhZGRyZXNzIiwiSWRjYXJkRnJvbnQiLCJJZGNhcmRCYWNrIiwiQmFua2Jvb2siLCJDZXJ0aWZpY2F0ZVBob3RvIiwid2VidG9rZW4iLCJyZWdpc3RlciIsImZiX2lkIiwiZmJEYXRhIiwiZmJ0b2tlbiIsImZiSWQiLCJnZXRzdGF0dXMiLCJmYk5hbWUiLCJHYW1lIiwibWVtYmVyRGF0YSIsImZiUGljIiwicGljX3VybCIsImdhbWUiLCJ0b3AxMDAiLCJnZXRhd2FyZCIsImdldFJlY2lwaWVudGluZm8iLCJzdWNjZXNzIiwiYXdhcmRpdGVtIiwiYXBwZW5kIiwicmVmZXJlbmNlSW5mbyIsImF3YXJkTmFtZSIsInR5cGUiLCJwb3N0UmVjaXBpZW50aW5mbyIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvcGVuIiwic1VybCIsImdyZWNhcHRjaGEiLCJjbGljayIsInBhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImV4ZWN1dGUiLCJhY3Rpb24iLCJnZXRJZSIsImV4cGxvcmVyIiwiZ2V0RXhwbG9yZXIiLCJzIiwiaW5kZXhPZiIsImllMTEiLCJjb21wYXJlIiwidG9wMTAwQXBpIiwieG1saHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIm15QXJyIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwiY29tcG9uZW50cyIsImNvbWluZ3Nvb24iLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsInByb3BzIiwiY29tUGFnZSIsImRhdGUiLCJ0b3RhbCIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibW91bnRlZCIsInBhZExlZnQiLCJzdHIiLCJsZW4iLCJsZW5ndGgiLCJnYW1lX3N0YXR1cyIsInRpbWVpbnRlcnZhbCIsInNldEludGVydmFsIiwiTWF0aCIsImZsb29yIiwic3QiLCJjbGVhckludGVydmFsIiwidGltZW92ZXIiXSwibWFwcGluZ3MiOiJrS0FBQSxJQUNJQSxZQUEyQyxJQUE3QkMsRUFBRSxVQUFVQyxLQUFLLFFBQy9CQyxZQUFjRixFQUFFLFVBQVVDLEtBQUssUUFFN0JFLE9BQVNDLGNBSmZDLElBQ0lOLE9BQUFBLFVBQWdCQSxXQURwQk0sSUFFSUgsT0FBQUEsT0FBZ0JILFdBRXBCTSxJQUFNRixPQUFNRyxPQUFHRixXQUdmQyxJQUFJRSxLQUFnQlIsSUFBVFMsT0FBWEMsTUFDSUYsR0FBQUEsSUFBT0QsYUFBU1AsT0FBcEJXLFVBQUFDLFdBRUlDLFNBQUosTUFBV0MsR0FBT0osU0FBbEIsTUFBQUssR0FBQUMsU0FFSUMsSUFBQUEsU0FBY0MsY0FBSCxVQVlYLFNBQ09DLGlCQURQQyxHQUVBQyxJQUFBQSxFQUFBLEtBSVdDLEVBQU8sR0FVbEIsT0FUUUQsU0FBT0UsT0FMZkMsT0FBQSxHQVFPQyxNQUFQ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S0FBaUJDLE1BQ2pCQyxFQUFBLElBQUEsR0FBQSxJQUNBYixFQUFBVyxLQUFBQyxNQUFBQyxFQUFBLEtBQUEsSUFDQWQsRUFBQVksS0FBQUMsTUFBQUMsRUFBQSxPQUNIbkosRUFBQW1JLEtBQUEsQ0FsQkxDLE1BQUFlLEVBcUJBSixLQUFlQyxFQUFBQSxFQUFZLEdBQ2xCL0ksTUFBQXlJLEVBQWV6SSxFQUFROUIsR0FXNUJvSyxRQUFXRyxFQUFRSCxFQUFTLEdBVDVCQyxRQUFlVSxFQUFTVixFQUFXLElBRWIsV0FBakJ4SSxFQUFHaUosY0FDSkcsY0FBZ0JMLEdBQ2QvSSxFQUFBOEgsWUFBQSxFQUNOOUgsRUFETWtJLFFBQUEsR0FFTnpNLEVBQUEsUUFBQWdFLFlBQUEsWUFHbUI4SSxZQUFuQnZJLEVBQUExQixjQUNBMEIsRUFBVzBJLFlBQVFGLEVBWW5CeEksRUFBR2tJLFFBQVUsV0FWWDVKLEVBQUFBLFFBQUhlLFNBQWtCLFlBRWpCLGNBQUd5SSxFQUFBQSxjQUNBSSxFQUFISixZQUFBLEVBR0g5SCxFQUFBa0ksUUFBQSxhQVdHek0sRUFBRSxRQUFRNEQsU0FBUyxhQVRoQnlJLFFBZ0JuQmhNLElBQUlpTSxVQUFVLFdBQVksQ0FYZEMsU0FBTTFKLFlBQ0YwQixNQUFHOEgsQ0FBQUEsWUFBYSxlQWE1QnBNLEtBQU0sV0FYTXNFLE1BQUdrSSxDQUNEbUIsVUFBUWhLLElBSXJCb0osUUFBQSxXQXJHTGxILEtBd0dJd0csVUFBVSxFQUNWQyxNQUFVIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0XHJcbiAgICBwcm9kdWN0aW9uID0gKCQoXCIjYXBwanNcIikuZGF0YShcIm1vZGVcIikgPT09IGZhbHNlKSxcclxuICAgIGZyaWVuZG9fdXJsID0gJChcIiNhcHBqc1wiKS5kYXRhKFwic2l0ZVwiKTsgIFxyXG5cclxuY29uc3QgZGV2aWNlID0gZGV2aWNlQ2hlY2soKTtcclxuXHJcblZ1ZS5jb25maWcuZGV2dG9vbHMgPSAhcHJvZHVjdGlvbjtcclxuVnVlLmNvbmZpZy5kZWJ1ZyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLnNpbGVudCA9IHByb2R1Y3Rpb247XHJcblxyXG52YXIgaXNQYyA9IHNjcmVlbi53aWR0aCA+IDc2ODtcclxudmFyIG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbnZhciBpc01vYmlsZSA9IG1kLnBob25lKCkgIT0gbnVsbCB8fCBtZC50YWJsZXQoKSAhPSBudWxsO1xyXG5cclxudmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInYxLjUuMlwiKTtcclxuICAgIGNvbnNvbGUubG9nKGRldmljZSk7XHJcbiAgICAvLyAkKFwiLm5hdlwiKS5tZW51KCk7XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbmRHZXRQYXJhbWV0ZXIocGFyYW1ldGVyTmFtZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgdG1wID0gW107XHJcbiAgICBsb2NhdGlvbi5zZWFyY2hcclxuICAgICAgICAuc3Vic3RyKDEpXHJcbiAgICAgICAgLnNwbGl0KFwiJlwiKVxyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHRtcCA9IGl0ZW0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAodG1wWzBdID09PSBwYXJhbWV0ZXJOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHRtcFsxXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0Nvb2tpZShwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIHZhciBjb29raWUgPSBkb2N1bWVudC5jb29raWU7XHJcbiAgICBjb29raWUuc3BsaXQoXCI7XCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY2hhckF0KDApID09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBbMV07XHJcbiAgICAgICAgfSlcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gZGV2aWNlQ2hlY2soKSB7XHJcbiAgICB2YXIgZGV2aWNlID0ge307XHJcbiAgICB2YXIgbWQgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmIChtZC5tYXRjaCgvYW5kcm9pZC9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiYW5kcm9pZFwiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcImFuZHJvaWRcIik7XHJcbiAgICB9IGVsc2UgaWYgKG1kLm1hdGNoKC8oaXBob25lfGlwYWR8aXBvZCk7Py9pKSkge1xyXG4gICAgICAgIGRldmljZS5vcyA9IFwiaW9zXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiaU9TXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcInBjXCI7XHJcbiAgICAgICAgZGV2aWNlLnZlcnNpb24gPSBtZC52ZXJzaW9uKFwiQ2hyb21lXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIGJyb3dzZXIgPSBtZC51YS5tYXRjaCgvKGxpbmV8ZmJ8aWd8aW5zdGFncmFtKS9pKTtcclxuICAgIGlmIChicm93c2VyKSB7XHJcbiAgICAgICAgZGV2aWNlLmJyb3dzZXIgPSBicm93c2VyWzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGRldmljZS5icm93c2VyID09ICdsaW5lJykgYWxlcnQoJ+iri+S9v+eUqEZCIEFQUCDmiJYg6aCQ6Kit54CP6Ka95ZmoXFxu6ZaL5ZWf5pys6YCj57WQ77yM542y5b6X5pyA5L2z6YGK5oiy6auU6amX77yBJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGV2aWNlLmJyb3dzZXIgPSBcImRlZmF1bHRcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBkZXZpY2U7XHJcbn1cclxuXHJcblxyXG5cclxuVnVlLm1peGluKHtcclxuICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YXJ0X2RhdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIC8vIGVuZF9kYXRlOiBcIjIwMTkvMDkvMzBcIixcclxuICAgICAgICAgICAgZXJyb3JfbXNnOiBcIlwiLFxyXG4gICAgICAgICAgICAvLyBtb2RlX3N0YXR1czogcHJvZHVjdGlvbiA/IFwiU3RhcnRlZFwiIDogXCJUZXN0aW5nXCIsXHJcbiAgICAgICAgICAgIG1vZGVfc3RhdHVzOiBcIlwiLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9wdXB0b3A6IFwiXCIsXHJcbiAgICAgICAgICAgIG5hdkhlaWdodDogXCJcIixcclxuICAgICAgICAgICAgcmV3YXJkU2hha2U6IHRydWUsXHJcbiAgICAgICAgICAgIGxpbmVIcmVmOiAnJyxcclxuICAgICAgICAgICAgcG9wdXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3BQYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBwb3B3ZWVrOiAwLFxyXG4gICAgICAgICAgICBGQm1iX2lkOiBcIlwiLFxyXG4gICAgICAgICAgICByZUNhcHRjaGE6IFwiXCIsXHJcbiAgICAgICAgICAgIHNjcm9sbHRvOiAwLFxyXG4gICAgICAgICAgICBnVG9rZW46IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YXRlVG9rZW46IFwiXCIsXHJcbiAgICAgICAgICAgIHRvcDEwMEFycjogW10sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgLy8gb3BlbkNvbWU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuICh0aGlzLm1vZGVfc3RhdHVzID09IFwiY29taW5nc29vblwiIHx8IHRoaXMubW9kZV9zdGF0dXMgPT0gXCJ0aW1lb3ZlclwiKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIC8vIG9wZW5PdmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuICh0aGlzLm1vZGVfc3RhdHVzID09IFwiVGVzdGluZ1wiIHx8IHN0YXJ0X2RhdGUgPD0gMCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSxcclxuICAgIHdhdGNoOiB7XHJcbiAgICAgICAgZXJyb3JfbXNnOiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnX2ZyZWV6ZScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9wdXA6IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgICAgICBpZih2YWwgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdfZnJlZXplJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnX2ZyZWV6ZScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGdhRXZhbnQ6IGZ1bmN0aW9uIChndG1EYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKHsnZXZlbnQnOiBndG1EYXRhfSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZ2E6XCIsIGd0bURhdGEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VydmVyX2J1c3k6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdm0uZXJyb3JfbXNnID0gXCLns7vntbHlv5nnoozkuK3vvIzoq4vnqI3lvozlnKjoqaYhXCI7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0uZXJyb3JfY291ID0gNjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldENvb2tpZTogZnVuY3Rpb24gKGNuYW1lLCBjdmFsdWUsIHRpbWUpIHtcclxuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAodGltZSAqIDEwMDApKTtcclxuICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgXCI9XCIgKyBjdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZ2dlcjogZnVuY3Rpb24gKGxldmVsLCBjb250ZW50LCB0YWcpIHtcclxuICAgICAgICAgICAgaWYgKHByb2R1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIGxldmVsIDogWydFUlJPUicgPT4gMCwgREVCVUcnID0+IDEsICdXQVJOSU5HJyA9PiAyLCAnSU5GTycgPT4gMywgJ0FMTCcgPT4gNF1cclxuICAgICAgICAgICAgICAgIHZhciBsZXZlbF9pbmZvID0gWydFUlJPUicsICdERUJVRycsICdXQVJOSU5HJywgJ0lORk8nLCAnQUxMJ107XHJcbiAgICAgICAgICAgICAgICBfTFRyYWNrZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2xldmVsJzogbGV2ZWxfaW5mb1tsZXZlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBKU09OLnN0cmluZ2lmeShjb250ZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAncGF0aCc6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxyXG4gICAgICAgICAgICAgICAgICAgICd0YWcnOiB0YWcgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAnZGV2aWNlJzogZGV2aWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICd0aW1lc3RhbXAnOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3JEb25lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JfbXNnID0gXCJcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrT25saW5lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJJbnRlcm5ldCDpgKPnt5rlt7LmlrfplovvvIzoq4vnorroqo3mgqjnmoTntrLot6/ni4DmhYvjgIJcIik7XHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwdG9rZW46IGZ1bmN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFzZmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZ1Rva2VuID0gbmV3VmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQXJydXA6IGZ1bmN0aW9uKEFycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFyclwiKTtcclxuICAgICAgICAgICAgdGhpcy50b3AxMDBBcnIgPSBBcnI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0ZV9Ub2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vZGV2ZWxvcGFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvYXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjZcIixcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9YXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjZgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwid2VidG9rZW5cIjogXCJXQnFJSGM5aFRtd3lMK2c5bTB5a2ZBPT1cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInN0YXRlVG9rZW46XCIscmVzKTtcclxuICAgICAgICAgICAgICAgIHZtLnN0YXRlVG9rZW4gPSByZXMudG9rZW47XHJcbiAgICAgICAgICAgICAgICAvLyB2bS5nVG9rZW4gPSByZXMudG9rZW47XHJcbiAgICAgICAgICAgICAgICAvLyB2bS50b3AxMDAoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0ZV9jaGVjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgXCJtYl9pZFwiOiB2bS5GQm1iX2lkLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJtYl9pZFwiOiBcImYxYjczMGZkLTdmNTEtNDU1NS05MjNiLWE0ZmE2ZGUwZDZjNlwiLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBgJHtmcmllbmRvX3VybH1HZXRQcm9qZWN0SW5mb2AsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L2dldHN0YXR1c2AsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5zdGF0ZVRva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRBcHBzdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZtLnN0YXRlX1Rva2VuKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZtLnN0YXRlX2NoZWNrKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzY3JvbGxUbzogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgLy8gdm0ucm9vbSA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIHZtLmFsbFBvcHVwQ2xvc2UoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coMzIxKTtcclxuICAgICAgICAgICAgJChcImh0bWwsYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJChlKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHBvcHVwT3BlbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgICBpZiAoIXZtLnBvcHVwdG9wIHx8IHZtLnBvcHVwdG9wID09PSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB2bS5wb3B1cHRvcCA9IE1hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgICQoJ2JvZHknKS5hZGRDbGFzcygnX2ZyZWV6ZScpO1xyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgLy8gcG9wdXBDbG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ19mcmVlemUnKTtcclxuICAgICAgICAvLyAgICAgJCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcCh2bS5wb3B1cHRvcCk7XHJcbiAgICAgICAgLy8gICAgIHZtLnBvcHVwdG9wID0gMDtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHBvcENsb3NlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdm0ucG9wdXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0ucG9wUGFnZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZtLnBvcHdlZWsgPSAwO1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ19mcmVlemUnKTtcclxuICAgICAgICAgICAgJChcImh0bWwsYm9keVwiKS5zY3JvbGxUb3Aodm0uc2Nyb2xsdG8pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gYWZ0ZXJFbnRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgICB2bS5wb3B1cE9wZW4oKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIEludm9pY2VUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vZGV2ZWxvcGFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvYXV0aC9sb2dpblwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1hdXRoL2xvZ2luYCxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIldlYlRva2VuXCI6IFwiV0JxSUhjOWhUbXd5TCtnOW0weWtmQT09XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSW52b1Rva2VuOlwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICB2bS5pbnZvVG9rZW4gPSByZXMudG9rZW47XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW52b2ljZVNhdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgXCJjZWxsXCI6IHZtLm1vYmlsZSxcclxuICAgICAgICAgICAgICAgIFwiaW52X251bVwiOiB2bS5pbnZfbnVtLnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICAgICAgICAgICBcInJhbmRvbV9udW1iZXJcIjogdm0uaW52X3JhbmRvbSxcclxuICAgICAgICAgICAgICAgIFwiaW52X2RhdGVcIjogdm0uaW52X2RhdGUsXHJcbiAgICAgICAgICAgICAgICBcImFjdFRva2VuXCIgOiBcIm5jemxhQlFVQ0I0aGdpUG1GOHJvN1E9PVwiLFxyXG4gICAgICAgICAgICAgICAgXCJjYXB0Y2hhXCI6IHZtLnJlQ2FwdGNoYVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vZGV2ZWxvcGFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvaW52b2ljZS9zYXZlZGF0YVwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1pbnZvaWNlL3NhdmVkYXRhYCxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogXCJCZWFyZXIgXCIrIHZtLmludm9Ub2tlbixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwb3N0X2RhdGEsXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW52b3JlczpcIixyZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tmaWxsU2F2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBwb3N0X2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBcIkNvZGVcIjogdm0udXNlcmlkLFxyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHZtLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcImFkZHJlc3NcIjogdm0uYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIFwiSWRjYXJkRnJvbnRcIjogdm0uSWRjYXJkRnJvbnQsXHJcbiAgICAgICAgICAgICAgICBcIklkY2FyZEJhY2tcIjogdm0uSWRjYXJkQmFjayxcclxuICAgICAgICAgICAgICAgIFwiQmFua2Jvb2tcIjogdm0uQmFua2Jvb2ssXHJcbiAgICAgICAgICAgICAgICBcIkNlcnRpZmljYXRlUGhvdG9cIjogdm0uQ2VydGlmaWNhdGVQaG90byxcclxuICAgICAgICAgICAgICAgIFwiY2FwdGNoYVwiOiB2bS5yZUNhcHRjaGFcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6IFwiaHR0cHM6Ly9kZXZlbG9wYXBpLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9pbnZvaWNlL3NhdmVkYXRhXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWludm9pY2Uvc2F2ZWRhdGFgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIisgdm0uZ1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYWNrZmlsbDpcIixyZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIEdhbWVUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vZGV2ZWxvcGFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvYXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjZcIixcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9YXV0aC9sb2dpbj9wcm9qZWN0SWQ9NjZgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwid2VidG9rZW5cIjogXCJXQnFJSGM5aFRtd3lMK2c5bTB5a2ZBPT1cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImd0b2tlbjpcIixyZXMpO1xyXG4gICAgICAgICAgICAgICAgdm0uZ1Rva2VuID0gcmVzLnRva2VuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlbGV0ZXRlc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgXCJtYl9pZFwiOiBcImYxYjczMGZkLTdmNTEtNDU1NS05MjNiLWE0ZmE2ZGUwZDZjNlwiLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgLy8gdXJsOiBcImh0dHBzOi8vZGV2ZWxvcGFwaS5henVyZXdlYnNpdGVzLm5ldC9hcGkvY29tZWJlc3QvZGVsZXRldGVzdFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1jb21lYmVzdC9kZWxldGV0ZXN0YCxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogXCJCZWFyZXIgXCIrIHZtLmdUb2tlbixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBwb3N0X2RhdGEsXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlbDpcIixyZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy89PT1GQiBpZD09PS8vXHJcbiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC8obG9jYWxob3N0KXwoMTkyLjE2OC40MCl8KDE5Mi4xNjguNjApL2kpKXtcclxuICAgICAgICAgICAgICAgIHZhciBwb3N0X2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0b2tlblwiOiB2bS5mYkRhdGEuZmJ0b2tlbixcclxuICAgICAgICAgICAgICAgICAgICBcImZiX2lkXCI6IHZtLmZiRGF0YS5mYklkLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc3RfZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcInRva2VuXCI6IFwiRUFBZURNenE2Y1RVQkFBWHVDWkF3T2ZlYWo4OXBaQUJHR0RVZ1VFeVpCQjVUMWN6ekFHZWhzdEU1dXJOZk9BM1BiYTdxazJ2SjZralBTV1Y2NVJ5WkJPWGpPU1RLWkJ4d3pOdXVIdm1weDdvSWVYMU0yQXkzdVpBekRaQmtrdzBhWkI3OWtUemZZSGwxYU1OeU45YTRKVno5eVJEYWg5R3hpZEtKWkFYcWRkQmlSblM0WkIycWpQUXdWMWk1ZWNSdEhaQVg5Z1ZOMHF4WHczRzBodlVuNlVWWVNVbTk0cllvbmN0QlllbjhHNzZHTURvTXdaRFpEXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJmYl9pZFwiOiBcIjI1OTIxMzE0ODc0NjQzNzhcIixcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIC8vIHVybDogXCJodHRwczovL2RldmVsb3BhcGkuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL2NvbWViZXN0L2RlbGV0ZXRlc3RcIixcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9Y29tZWJlc3QvcmVnaXN0ZXJgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIisgdm0uZ1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVnaXN0ZXI6XCIscmVzKTtcclxuICAgICAgICAgICAgICAgIHZtLmZiRGF0YS5tYl9pZCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdm0uZ2V0c3RhdHVzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRzdGF0dXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgXCJtYl9pZFwiOiB2bS5mYkRhdGEubWJfaWQsXHJcbiAgICAgICAgICAgICAgICAvLyBcIm1iX2lkXCI6IFwiZjFiNzMwZmQtN2Y1MS00NTU1LTkyM2ItYTRmYTZkZTBkNmM2XCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6IFwiaHR0cHM6Ly9kZXZlbG9wYXBpLmF6dXJld2Vic2l0ZXMubmV0L2FwaS9jb21lYmVzdC9kZWxldGV0ZXN0XCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L2dldHN0YXR1c2AsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5nVG9rZW4sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcG9zdF9kYXRhLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJnZXRzdGF0dXM6XCIscmVzKTtcclxuICAgICAgICAgICAgICAgIHZtLmZiRGF0YS5mYk5hbWUgPSByZXMuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgdm0uZmJEYXRhLmZiUGljID0gcmVzLmRhdGEucGljX3VybDtcclxuICAgICAgICAgICAgICAgIHZtLmdhbWUgPSBuZXcgR2FtZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyRGF0YTogdm0uZmJEYXRhLm1iX2lkXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZic2hhcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgXCJtYl9pZFwiOiB2bS5mYkRhdGEubWJfaWQsXHJcbiAgICAgICAgICAgICAgICAvLyBcIm1iX2lkXCI6IFwiZjFiNzMwZmQtN2Y1MS00NTU1LTkyM2ItYTRmYTZkZTBkNmM2XCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L2Zic2hhcmVgLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIisgdm0uZ1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmJzaGFyZTpcIixyZXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2F2ZXBob25lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHBvc3RfZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIFwibWJfaWRcIjogdm0uZmJEYXRhLm1iX2lkLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJtYl9pZFwiOiBcImYxYjczMGZkLTdmNTEtNDU1NS05MjNiLWE0ZmE2ZGUwZDZjNlwiLFxyXG4gICAgICAgICAgICAgICAgXCJwaG9uZVwiOiB2bS5tb2JpbGUsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L3NhdmVwaG9uZWAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5nVG9rZW4sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YTogcG9zdF9kYXRhLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzYXZlcGhvbmU6XCIscmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHBsYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgICB2YXIgcG9zdF9kYXRhID0ge1xyXG4gICAgICAgIC8vICAgICAgICAgXCJtYl9pZFwiOiB2bS5tYl9pZCxcclxuICAgICAgICAvLyAgICAgICAgIC8vIFwibWJfaWRcIjogXCJmMWI3MzBmZC03ZjUxLTQ1NTUtOTIzYi1hNGZhNmRlMGQ2YzZcIixcclxuICAgICAgICAvLyAgICAgICAgIFwicm9sZVwiOiBcIkFcIlxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIC8vICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1jb21lYmVzdC9wbGF5YCxcclxuICAgICAgICAvLyAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogXCJCZWFyZXIgXCIrIHZtLmdUb2tlbixcclxuICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgLy8gICAgICAgICBkYXRhOiBwb3N0X2RhdGEsXHJcbiAgICAgICAgLy8gICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIC8vICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiXHJcbiAgICAgICAgLy8gICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcInBsYXk6XCIscmVzKTtcclxuICAgICAgICAvLyAgICAgICAgIHZtLnRpY2tldCA9IHJlcy5kYXRhLnRpY2tldDtcclxuICAgICAgICAvLyAgICAgICAgIHZtLmdjb2RlID0gcmVzLmRhdGEuY29kZTtcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIC8vIHJlY29yZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgLy8gICAgIHZhciBwb3N0X2RhdGEgPSB7XHJcbiAgICAgICAgLy8gICAgICAgICBcIm1iX2lkXCI6IHZtLm1iX2lkLFxyXG4gICAgICAgIC8vICAgICAgICAgLy8gXCJtYl9pZFwiOiBcImYxYjczMGZkLTdmNTEtNDU1NS05MjNiLWE0ZmE2ZGUwZDZjNlwiLFxyXG4gICAgICAgIC8vICAgICAgICAgXCJ0aWNrZXRcIjogdm0udGlja2V0LFxyXG4gICAgICAgIC8vICAgICAgICAgXCJjb2RlXCI6IFwiLTkxLDEyMzMyLDBcIixcclxuICAgICAgICAvLyAgICAgICAgIFwic2NvcmVcIjogXCIxMjMzMlwiLFxyXG4gICAgICAgIC8vICAgICAgICAgXCJ0aW1lc3BhblwiOiBcIjNcIlxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIC8vICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1jb21lYmVzdC9yZWNvcmRgLFxyXG4gICAgICAgIC8vICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIisgdm0uZ1Rva2VuLFxyXG4gICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAvLyAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAvLyAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgLy8gICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAvLyAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjb3JkOlwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHRvcDEwMDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBwb3N0X2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBcIm1iX2lkXCI6IHZtLkZCbWJfaWQsXHJcbiAgICAgICAgICAgICAgICAvLyBcIm1iX2lkXCI6IFwiZjFiNzMwZmQtN2Y1MS00NTU1LTkyM2ItYTRmYTZkZTBkNmM2XCIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L3RvcDEwMGAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5nVG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5zdGF0ZVRva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidG9wMTAwOlwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICB2bS50b3AxMDBBcnIgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldGF3YXJkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAvLyB1cmw6IGAke2ZyaWVuZG9fdXJsfUdldFByb2plY3RJbmZvYCxcclxuICAgICAgICAgICAgICAgIHVybDogYCR7ZnJpZW5kb191cmx9Y29tZWJlc3QvTG90dGVyeVJlc3VsdC82NmAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5nVG9rZW4sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgLy8gZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldGF3YXJkXCIscmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldFJlY2lwaWVudGluZm86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIC8vIHVybDogYCR7ZnJpZW5kb191cmx9R2V0UHJvamVjdEluZm9gLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtmcmllbmRvX3VybH1jb21lYmVzdC9yZWNpcGllbnRpbmZvLyR7dm0udXNlcmlkfWAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIFwiKyB2bS5nVG9rZW4sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgLy8gZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlY2lwaWVudGluZm9cIixyZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlcy5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLos4fmlpnlt7Llm57loavmiJbnhKHms5Xmn6XnjbLmraTnjY7poIVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi4vaW5kZXguaHRtbFwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS5tb2JpbGUgPSByZXMuZGF0YS5tb2JpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uaW52X251bSA9IHJlcy5kYXRhLnJlZmVyZW5jZUluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uYXdhcmRpdGVtID0gcmVzLmRhdGEuYXdhcmROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLnR5cGUgPSByZXMuZGF0YS5yZWZlcmVuY2VUeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdFJlY2lwaWVudGluZm86IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcG9zdF9kYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJDYW1wYWlnbklkXCIsNjYpXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJDb2RlXCIsdm0udXNlcmlkKVxyXG4gICAgICAgICAgICBwb3N0X2RhdGEuYXBwZW5kKFwiTmFtZVwiLHZtLm5hbWUpXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJBZGRyZXNzXCIsdm0uYWRkcmVzcylcclxuICAgICAgICAgICAgcG9zdF9kYXRhLmFwcGVuZChcIklkY2FyZEZyb250XCIsdm0uSWRjYXJkRnJvbnQpXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJJZGNhcmRCYWNrXCIsdm0uSWRjYXJkQmFjaylcclxuICAgICAgICAgICAgcG9zdF9kYXRhLmFwcGVuZChcIkJhbmtib29rXCIsdm0uQmFua2Jvb2spXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJDZXJ0aWZpY2F0ZVwiLHZtLkNlcnRpZmljYXRlUGhvdG8pXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJyZUNhcHRjaGFcIix2bS5yZUNhcHRjaGEpXHJcbiAgICAgICAgICAgIHBvc3RfZGF0YS5hcHBlbmQoXCJGQklkXCIsdm0uZmJEYXRhLmZiSWQpXHJcbiAgICAgICAgICAgIC8vIHZhciBwb3N0X2RhdGEgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBcIkNhbXBhaWduSWRcIjogNjYsXHJcbiAgICAgICAgICAgIC8vICAgICBcIkNvZGVcIjogdm0udXNlcmlkLFxyXG4gICAgICAgICAgICAvLyAgICAgXCJOYW1lXCI6IHZtLm5hbWUsXHJcbiAgICAgICAgICAgIC8vICAgICBcIkFkZHJlc3NcIjogdm0uYWRkcmVzcyxcclxuICAgICAgICAgICAgLy8gICAgIFwiSWRjYXJkRnJvbnRcIjogdm0uSWRjYXJkRnJvbnQsXHJcbiAgICAgICAgICAgIC8vICAgICBcIklkY2FyZEJhY2tcIjogdm0uSWRjYXJkQmFjayxcclxuICAgICAgICAgICAgLy8gICAgIFwiQmFua2Jvb2tcIjogdm0uQmFua2Jvb2ssXHJcbiAgICAgICAgICAgIC8vICAgICBcIkNlcnRpZmljYXRlXCI6IHZtLkNlcnRpZmljYXRlUGhvdG8sXHJcbiAgICAgICAgICAgIC8vICAgICBcInJlQ2FwdGNoYVwiOiB2bS5yZUNhcHRjaGFcclxuICAgICAgICAgICAgLy8gfTtcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfWNvbWViZXN0L3JlY2lwaWVudGluZm9gLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIisgdm0uZ1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHBvc3RfZGF0YSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicG9zdFJlY2lwaWVudGluZm86XCIscmVzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5hdmZic2hhcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9JytcImh0dHBzOi8vY2FtcGFpZ24uZnJpZW5kby5jb20udHcvMjAxOXBibWFyYXRob24vaW5kZXguaHRtbFwiKycmaGFzaHRhZz0lMjMnKydQb3dlckJPTULkurrnlJ/kuI3mlrfpm7vppqzmi4nmnb4nKTtyZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYXZsaW5lc2hhcmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc1VybCA9IGVuY29kZVVSSUNvbXBvbmVudChgaHR0cHM6Ly9jYW1wYWlnbi5mcmllbmRvLmNvbS50dy8yMDE5cGJtYXJhdGhvbi9pbmRleC5odG1sP29wZW5FeHRlcm5hbEJyb3dzZXI9MWApXHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGBodHRwOi8vbGluZS5uYXZlci5qcC9SL21zZy90ZXh0Lz/mjJHmiLBQb3dlckJPTULkurrnlJ/kuI3mlrfpm7vppqzmi4nmnb7mir1QUzTvvIHnmbvpjITnmbznpajlho3mir3nj77ph5E5OSw5OTnjgIFTd2l0Y2jnrYnlpJrpoIXlpb3npq4lMEQlMEEke3NVcmx9YCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYXZPcGVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJChcIi5uYXYtYnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5uYXZcIikudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIl9mcmVlemVcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICQoXCIubmF2LWl0ZW1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiLm5hdlwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiX2ZyZWV6ZVwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdyZWNhcHRjaGE6IGZ1bmN0aW9uKHBhZ2UpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2luJylcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIGdyZWNhcHRjaGEuZXhlY3V0ZSgnNkxmVW83TVVBQUFBQUpRQU1MMDhydWhQZVladmloTFlhVnZ0dVlySicsIHsgYWN0aW9uOiBwYWdlIH0pLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0ucmVDYXB0Y2hhID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdHb29nbGXpqZforYnlpLHmlZfvvIzoq4vlho3mrKHlmJfoqaZcXG7lpoLnhKHms5XmjpLpmaTmraTllY/poYzvvIzlu7rorbDph43mlrDmlbTnkIbmraTpoIHpnaInKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0SWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2V0RXhwbG9yZXIgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwbG9yZXIgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuICAgICAgICAgICAgICAgIGNvbXBhcmUgPSBmdW5jdGlvbihzKSB7IHJldHVybiAoZXhwbG9yZXIuaW5kZXhPZihzKSA+PSAwKTsgfSxcclxuICAgICAgICAgICAgICAgIGllMTEgPSAoZnVuY3Rpb24oKSB7IHJldHVybiAoXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93KSB9KSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUoXCJNU0lFXCIpIHx8IGllMTEpIHsgcmV0dXJuICdpZSc7IH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmUoXCJGaXJlZm94XCIpICYmICFpZTExKSB7IHJldHVybiAnRmlyZWZveCc7IH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmUoXCJDaHJvbWVcIikgJiYgIWllMTEpIHsgcmV0dXJuICdDaHJvbWUnOyB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb21wYXJlKFwiT3BlcmFcIikgJiYgIWllMTEpIHsgcmV0dXJuICdPcGVyYSc7IH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmUoXCJTYWZhcmlcIikgJiYgIWllMTEpIHsgcmV0dXJuICdTYWZhcmknOyB9XHJcbiAgICAgICAgICAgIH0pKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChnZXRFeHBsb3JlciA9PSAnaWUnKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgn55uu5YmN54CP6Ka95Zmo54K66IiK54mIIElF77yM5bu66K2w5L2/55SoQ2hyb21l54CP6Ka95Zmo77yM542y5b6X5pyA5L2z6YGK5oiy6auU6amX77yBJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvcDEwMEFwaSgpIHsgIC8vZm9yIHNob3djYXNlXHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBcIi4vc3RhdGljL3RvcDEwMC5qc29uXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBteUFyciA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15QXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB2bS50b3AxMDBBcnIgPSBteUFyci5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB4bWxodHRwLm9wZW4oXCJHRVRcIiwgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgeG1saHR0cC5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICBjb21pbmdzb29uOiBjb21pbmdzb29uXHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICAvLyBwb3B1cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgIGlmKHRoaXMucG9wdXApIHtcclxuICAgICAgICAvLyAgICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiX2ZyZWV6ZVwiKVxyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJfZnJlZXplXCIpXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgLy8gdm0ubmF2T3BlbigpO1xyXG4gICAgICAgIC8vIHZtLmdldEFwcHN0YXRlKCk7XHJcbiAgICAgICAgLy8gdm0uc3RhcnRfZGF0ZSA9IFwiMjAxOS8wOS8yNSAxMDowMDowMFwiO1xyXG4gICAgICAgIC8vIHZtLm1vZGVfc3RhdHVzID0gXCJjb21pbmdzb29uXCIgLy8gc3RhcnRlZCAgdGltZW92ZXIgIGNvbWluZ3Nvb25cclxuICAgICAgICAvLyBpZihuZXcgRGF0ZSgpID4gbmV3IERhdGUoXCIyMDE5LzA5LzI1IDEwOjAwOjAwXCIpKSB7XHJcbiAgICAgICAgLy8gICAgIHZtLm1vZGVfc3RhdHVzID0gXCJzdGFydGVkXCJcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICB2bS5zdGFydF9kYXRlID0gXCIyMDE5LzA5LzI1IDEwOjAwOjAwXCI7XHJcbiAgICAgICAgLy8gICAgIHZtLm1vZGVfc3RhdHVzID0gXCJjb21pbmdzb29uXCIgXHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG59KTtcclxuXHJcblZ1ZS5jb21wb25lbnQoJ2NvbWluZ3Nvb24nLCB7XHJcbiAgICB0ZW1wbGF0ZTogXCIjY29taW5nc29vblwiLFxyXG4gICAgcHJvcHM6IFsnc3RhcnRfZGF0ZScsICdtb2RlX3N0YXR1cyddLCAvL+eItuWxpOeahOiuiuaVuOWCs+e1puWtkOWxpOeUqO+8jHZ1ZeWcqOi8ieWFpeaZgu+8jOacg+WFiOaKiuWtkOWxpOeahOWFg+S7tuaOm+i8ieS4iuWOu++8jOacg+mAoOaIkOeItuWxpOeahOiuiuaVuOizh+aWmeaYr+aykuacieWAvOeahOeLgOaFi1xyXG4gICAgZGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbWluZ3Nvb246IGZhbHNlLFxyXG4gICAgICAgICAgICBjb21QYWdlOiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFydF9kYXRlOiBcIlwiLFxyXG4gICAgICAgICAgICBtb2RlX3N0YXR1czogXCJcIixcclxuICAgICAgICAgICAgZGF0ZToge1xyXG4gICAgICAgICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICAvLyBldG90YWw6IDAsXHJcbiAgICAgICAgICAgICAgICBkYXlzOiAwLFxyXG4gICAgICAgICAgICAgICAgaG91cnM6IDAsXHJcbiAgICAgICAgICAgICAgICBtaW51dGVzOiAwLFxyXG4gICAgICAgICAgICAgICAgc2Vjb25kczogMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfSxcclxuICAgIC8vKioq55SoJGVtaXTmlrnms5XmiorlrZDlsaTlm57lgrPntabniLblsaRcclxuICAgIHdhdGNoOntcclxuICAgICAgICAvLyBzdGF0ZVRva2VuOiBmdW5jdGlvbihuZXdWYWwpe1xyXG4gICAgICAgIC8vICAgICB0aGlzLiRlbWl0KCd1cGRhdGEnLG5ld1ZhbCk7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICAvLyB0b3AxMDBBcnI6IGZ1bmN0aW9uKGFycikge1xyXG4gICAgICAgIC8vICAgICB0aGlzLiRlbWl0KCd0b3BBcnInLGFycik7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKFwic2RmZVwiKVxyXG4gICAgICAgIC8vIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBhZExlZnQgPSBmdW5jdGlvbiAoc3RyLCBsZW4pIHtcclxuICAgICAgICAgICAgc3RyID0gJycgKyBzdHI7XHJcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID49IGxlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYWRMZWZ0KFwiMFwiICsgc3RyLCBsZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vIHZtLmdldEFwcHN0YXRlKCk7XHJcbiAgICAgICAgLy8gdm0uc3RhdGVfY2hlY2soKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAvLyAgICAgdmFyIGRhdGEgPSByZXMuRGF0YTtcclxuICAgICAgICAvLyAgICAgdm0uc3RhcnRfZGF0ZSA9IGRhdGEuU3RhcnREYXRlVGltZTtcclxuICAgICAgICB2bS5zdGF0ZV9Ub2tlbigpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZtLnN0YXRlX2NoZWNrKCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzdGF0ZVwiLHJlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuZ2FtZV9zdGF0dXMgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGVydCgn5rS75YuV5bey57WQ5p2fIOaEn+isneaCqOeahOWPg+iIh++8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZtLm1vZGVfc3RhdHVzID0gXCJ0aW1lb3ZlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZtLmdldFRvcDEwMCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbiA9ICcuL2luZGV4Lmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmdhbWVfc3RhdHVzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJ+a0u+WLleWwmuacqumWi+Wni++8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLm1vZGVfc3RhdHVzID0gXCJjb21pbmdzb29uXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uc3RhcnRfZGF0ZSA9IHJlcy5kYXRhLnN0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0gJy4vaW5kZXguaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLm1vZGVfc3RhdHVzID0gXCJzdGFydGVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm0udG9wMTAwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm0uZ2V0VG9wMTAwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm0uc3RhcnRfZGF0ZSA9IHJlcy5kYXRhLnN0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciB0aW1laW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdCA9IERhdGUucGFyc2UobmV3IERhdGUodm0uc3RhcnRfZGF0ZSkpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcclxuICAgICAgICAgICAgLy8gdmFyIGV0ID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSh2bS5lbmRfZGF0ZSkpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcclxuICAgICAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKChzdCAvIDEwMDApICUgNjApO1xyXG4gICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHN0IC8gMTAwMCAvIDYwKSAlIDYwKTtcclxuICAgICAgICAgICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcigoc3QgLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KTtcclxuICAgICAgICAgICAgdmFyIGRheXMgPSBNYXRoLmZsb29yKHN0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcclxuICAgICAgICAgICAgdm0uZGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICd0b3RhbCc6IHN0LFxyXG4gICAgICAgICAgICAgICAgLy8gJ2V0b3RhbCc6IGV0LFxyXG4gICAgICAgICAgICAgICAgJ2RheXMnOiBwYWRMZWZ0KGRheXMsIDIpLFxyXG4gICAgICAgICAgICAgICAgJ2hvdXJzJzogcGFkTGVmdChob3VycywgMiksXHJcbiAgICAgICAgICAgICAgICAnbWludXRlcyc6IHBhZExlZnQobWludXRlcywgMiksXHJcbiAgICAgICAgICAgICAgICAnc2Vjb25kcyc6IHBhZExlZnQoc2Vjb25kcywgMilcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYodm0ubW9kZV9zdGF0dXMgPT0gXCJzdGFydGVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZWludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHZtLmNvbWluZ3Nvb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZtLmNvbVBhZ2UgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJfZnJlZXplXCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gdm0uY29taW5nc29vbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmKHZtLm1vZGVfc3RhdHVzID09IFwidGltZW92ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgdm0uY29taW5nc29vbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyB2bS5jb21pbmdzb29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5jb21QYWdlID0gXCJ0aW1lb3ZlclwiO1xyXG4gICAgICAgICAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJfZnJlZXplXCIpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBpZih2bS5tb2RlX3N0YXR1cyA9PSBcImNvbWluZ3Nvb25cIikge1xyXG4gICAgICAgICAgICAgICAgdm0uY29taW5nc29vbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyB2bS5jb21pbmdzb29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5jb21QYWdlID0gXCJjb21pbmdzb29uXCI7XHJcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcIl9mcmVlemVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuVnVlLmNvbXBvbmVudCgndGltZW92ZXInLCB7XHJcbiAgICB0ZW1wbGF0ZTogXCIjdGltZW92ZXJcIixcclxuICAgIHByb3BzOiBbJ1N0YXJ0RGF0ZScsICdtb2RlX3N0YXR1cyddLCAvL+eItuWxpOeahOiuiuaVuOWCs+e1puWtkOWxpOeUqFxyXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGltZW92ZXI6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0udGltZW92ZXIgPSB0cnVlO1xyXG4gICAgICAgIGFsZXJ0KFwidGltZW92ZXJcIik7XHJcbiAgICB9XHJcbn0pOyJdfQ==
