"use strict";var index_view=new Vue({el:"#app",data:{step:"start",reason:"",lineuserid:"",linePic:"",lineName:"",userScore:0,userMin:0,userSec:0,slick:!0,resultWord:"",yearArr:[],monthArr:[],dayArr:[],userName:"",userPhone:"",userbir:{year:"",month:"",day:""},isMember:!1,haveAward:!1,isPlay:!1,isNissan:!1,isAgree:!1,ticketCount:0,awardName:"",awardCode:"",awardShortUrl:"",isGame:!1,lotteryPlay:!1,isGet:!1},methods:{togame:function(){var e=this;e.isGame=!0,e.step="start",e.popup=!0,e.popPage="readme",setTimeout(function(){(new carGame).init()},100)},toGrades:function(){var e=this;e.showArr(),e.step="result",e.reason=""},toProfile:function(){var e=this;e.isPlay?(e.step="done",e.isGame=!1):(e.step="profile",setTimeout(function(){e.isMember&&document.querySelector("#phone").setAttribute("disabled","disabled")},50))},toLottery:function(){var e=this;""==!e.awardName||null==!e.awardName?e.step="useraward":e.step="lottery"},rePlay:function(){var e=this;e.isGame=!0,e.step="start",e.popup=!0,e.popPage="readme",e.slick=!0,document.querySelector(".popup").style="background: url(./images/popup_bg.png) center top repeat",setTimeout(function(){(new carGame).init()},100)},playturn:function(){var e,t=this,r=new TimelineMax({delay:.3,onComplete:function(){t.isGet&&(t.step="useraward",t.isGame=!1)}});t.ticketCount<=0?(t.popup=!0,t.popPage="noticketcount"):(t.lotteryPlay=!0,r.fromTo(".lotterybg",1.5,{rotation:0},{rotation:1800}),t.isGet?(e=Math.floor(50*Math.random())+30,t.lotteryPlay=!1,t.isGet=!0):(e=Math.floor(70*Math.random())+100,t.lotteryPlay=!1),t.ticketCount-=1,r.to(".lotterybg",.6,{rotation:1800+e},"-=0.3"))},birthdayArr:function(){for(var e=this,t=2020;1919<t;t--)e.yearArr.push(t);for(var r=1;r<13;r++)e.monthArr.push(r);for(var a=1;a<32;a++)e.dayArr.push(a)},kvAni:function(){var e=new TimelineMax({delay:.6});e.from(".kv h2",.6,{opacity:0}),e.from(".kv .togame",.6,{opacity:0},"-=0.6"),e.from(".kvcar",.6,{y:-60,x:300,opacity:0}),e.from(".kv .kvft",.6,{opacity:0},"-=0.3")},checkData:function(){var e=this;""!=e.userName?""!=e.userPhone&&e.userPhone.match(/^09[0-9]{8}$/)?""!=e.userbir.year&&null!=e.userbir.year?""!=e.userbir.month&&null!=e.userbir.month?""!=e.userbir.day&&null!=e.userbir.day?e.isAgree?(e.popup=!0,e.popPage="loading",e.step="done",e.popup=!1,e.popPage=""):alert("請勾選我已詳閱並同意活動辦法"):alert("請選擇出生日"):alert("請選擇出生月"):alert("請選擇出生年"):alert("請輸入正確格式手機號碼"):alert("請填寫姓名")},lotteryShare:function(){this.eventShare(),this.ticketCount+=1},awardreadme:function(){this.popup=!0,this.popPage="awardreadme"}},mounted:function(){this.birthdayArr(),(new carGame).init()}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluZGV4X3ZpZXciLCJWdWUiLCJlbCIsInN0ZXAiLCJyZWFzb24iLCJsaW5ldXNlcmlkIiwibGluZVBpYyIsInVzZXJTY29yZSIsImxpbmVOYW1lIiwidXNlck1pbiIsInVzZXJTZWMiLCJzbGljayIsInJlc3VsdFdvcmQiLCJ5ZWFyQXJyIiwibW9udGhBcnIiLCJ5ZWFyIiwibW9udGgiLCJ1c2VyUGhvbmUiLCJkYXkiLCJpc05pc3NhbiIsImhhdmVBd2FyZCIsImlzUGxheSIsImF3YXJkQ29kZSIsImlzQWdyZWUiLCJ0aWNrZXRDb3VudCIsImF3YXJkTmFtZSIsImlzR2FtZSIsImxvdHRlcnlQbGF5Iiwidm0iLCJ0aGlzIiwicG9wdXAiLCJwb3BQYWdlIiwiY2FyR2FtZSIsImluaXQiLCJ0b0dyYWRlcyIsInRlc3RnYW1lIiwic2hvd0FyciIsInRvUHJvZmlsZSIsImlzTWVtYmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwicmVQbGF5Iiwic3R5bGUiLCJzZXRUaW1lb3V0IiwidGwiLCJUaW1lbGluZU1heCIsImRlbGF5Iiwib25Db21wbGV0ZSIsImlzR2V0Iiwic2VjIiwicm90YXRpb24iLCJyb3VuZCIsIm9mZnNldCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvIiwiYmlydGhkYXlBcnIiLCJpIiwicHVzaCIsImRheUFyciIsImt2QW5pIiwiZnJvbSIsIm9wYWNpdHkiLCJ5IiwieCIsImNoZWNrRGF0YSIsInVzZXJOYW1lIiwibWF0Y2giLCJ1c2VyYmlyIiwiYWxlcnQiLCJsb3R0ZXJ5U2hhcmUiLCJldmVudFNoYXJlIiwiYXdhcmRyZWFkbWUiLCJtb3VudGVkIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxXQUFhLElBQUlDLElBQUksQ0FDckJDLEdBQUksT0FESkYsS0FBQUEsQ0FDSUcsS0FEaUIsUUFFZkMsT0FBQSxHQUNFQyxXQURGLEdBQ2FDLFFBQUEsR0FDZkYsU0FG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QixLQUFBLGNBQUFiLEdBQUEsQ0FhR2MsUUFBUyxHQVpMTCxTQUNERSxFQUFBQSxLQUFPRCxTQUFWVixHQUFBLENBQ0hlLEdBQUEsR0F2R0FDLEVBQUEsSUFBQUYsUUFBQSxJQTJHR2QsRUFBR2EsS0FBUCxZQUFBYixHQUFBLENBQ1NjLFFBQUlsQixHQUFvQixVQUMvQnFCLFVBakhFLFdBa0hBSCxJQUFPcEMsRUFBRUMsS0FFVXFCLElBQWZ0QixFQUFBd0MsU0FHaUIsSUFBQXhDLEVBQUFYLFdBQUFXLEVBQUFYLFVBQUFvRCxNQU56QixnQkFXQSxJQUFRekMsRUFBQTBDLFFBQVJ2RCxNQUE0QixNQUFBYSxFQUFBMEMsUUFBQXZELEtBeEgzQixJQUFBYSxFQUFBMEMsUUFBQXRELE9BNEhPLE1BQUFZLEVBQUEwQyxRQUFBdEQsTUFHYyxJQUFoQm9ELEVBQUFBLFFBQVlsRCxLQUFJLE1BQUFVLEVBQUEwQyxRQUFBcEQsSUFvQmxCVSxFQUFHTCxTQWJOSyxFQUFBRSxPQUFBLEVBa0JERixFQUFHRyxRQUFVLFVBakJSSCxFQUFDMEMsS0FBUXZELE9BQ1Z3RCxFQUFNekMsT0FBTixFQUNBRixFQUFBRyxRQUFBLElBTkVkLE1BQUgsa0JBSE9zRCxNQUFOLFVBSEtBLE1BQVQsVUFKV0EsTUFBRSxVQU5ZQSxNQUFBLGVBRmRBLE1BQUUsVUE0Q2pCQyxhQWpLUSxXQStJVXhELEtBQ0p5RCxhQURJekQsS0FFVlEsYUFBQSxHQUlBa0QsWUFySkEsV0FzSkg3QyxLQXFCRUMsT0FBUSxFQXJCVkQsS0FDTU4sUUFBUyxnQkFHZm9ELFFBQUEsV0FzQkk5QyxLQXJCRkMsZUFFSCxJQUFBRSxTQUNBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpbmRleF92aWV3ID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogXCIjYXBwXCIsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgc3RlcDogJ3N0YXJ0JywgLy9rdiBzdGFydCByZWFzb24gcmVzdWx0IHByb2ZpbGUgZG9uZSBsb3R0ZXJ5IHVzZXJhd2FyZFxyXG4gICAgICAgIHJlYXNvbjogJycsIC8vIG5lYXIgZmFyXHJcbiAgICAgICAgbGluZXVzZXJpZDogJycsXHJcbiAgICAgICAgbGluZVBpYzogJycsXHJcbiAgICAgICAgbGluZU5hbWU6ICcnLFxyXG4gICAgICAgIHVzZXJTY29yZTogMCxcclxuICAgICAgICB1c2VyTWluOiAwLFxyXG4gICAgICAgIHVzZXJTZWM6IDAsXHJcbiAgICAgICAgc2xpY2s6IHRydWUsXHJcbiAgICAgICAgcmVzdWx0V29yZDogJycsXHJcbiAgICAgICAgeWVhckFycjogW10sXHJcbiAgICAgICAgbW9udGhBcnI6IFtdLFxyXG4gICAgICAgIGRheUFycjogW10sXHJcbiAgICAgICAgdXNlck5hbWU6ICcnLFxyXG4gICAgICAgIHVzZXJQaG9uZTogJycsXHJcbiAgICAgICAgdXNlcmJpcjoge1xyXG4gICAgICAgICAgICB5ZWFyOiAnJyxcclxuICAgICAgICAgICAgbW9udGg6ICcnLFxyXG4gICAgICAgICAgICBkYXk6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc01lbWJlcjogZmFsc2UsXHJcbiAgICAgICAgaGF2ZUF3YXJkOiBmYWxzZSxcclxuICAgICAgICBpc1BsYXk6IGZhbHNlLFxyXG4gICAgICAgIGlzTmlzc2FuOiBmYWxzZSxcclxuICAgICAgICAvLyBub05pc3NhbjogZmFsc2UsXHJcbiAgICAgICAgaXNBZ3JlZTogZmFsc2UsXHJcbiAgICAgICAgdGlja2V0Q291bnQ6IDAsXHJcbiAgICAgICAgYXdhcmROYW1lOiAnJyxcclxuICAgICAgICBhd2FyZENvZGU6ICcnLFxyXG4gICAgICAgIGF3YXJkU2hvcnRVcmw6ICcnLFxyXG4gICAgICAgIGlzR2FtZTogZmFsc2UsXHJcbiAgICAgICAgbG90dGVyeVBsYXk6IGZhbHNlLFxyXG4gICAgICAgIGlzR2V0OiBmYWxzZVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICB0b2dhbWUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXNcclxuICAgICAgICAgICAgdm0uaXNHYW1lID0gdHJ1ZVxyXG4gICAgICAgICAgICB2bS5zdGVwID0gJ3N0YXJ0J1xyXG4gICAgICAgICAgICB2bS5wb3B1cCA9IHRydWVcclxuICAgICAgICAgICAgdm0ucG9wUGFnZSA9ICdyZWFkbWUnXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0Z2FtZSA9IG5ldyBjYXJHYW1lKClcclxuICAgICAgICAgICAgICAgIHRlc3RnYW1lLmluaXQoKVxyXG4gICAgICAgICAgICB9LCAxMDApXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b0dyYWRlcygpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4gICAgICAgICAgICB2bS5zaG93QXJyKClcclxuICAgICAgICAgICAgdm0uc3RlcCA9ICdyZXN1bHQnXHJcbiAgICAgICAgICAgIHZtLnJlYXNvbiA9ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b1Byb2ZpbGUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXNcclxuICAgICAgICAgICAgaWYodm0uaXNQbGF5KSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdGVwID0gJ2RvbmUnXHJcbiAgICAgICAgICAgICAgICB2bS5pc0dhbWUgPSBmYWxzZVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdm0uc3RlcCA9ICdwcm9maWxlJ1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodm0uaXNNZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bob25lJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvTG90dGVyeSgpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4gICAgICAgICAgICBpZighdm0uYXdhcmROYW1lID09IFwiXCIgfHwgIXZtLmF3YXJkTmFtZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdGVwID0gJ3VzZXJhd2FyZCdcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZtLnN0ZXAgPSAnbG90dGVyeSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVQbGF5KCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgICAgIHZtLmlzR2FtZSA9IHRydWVcclxuICAgICAgICAgICAgdm0uc3RlcCA9ICdzdGFydCdcclxuICAgICAgICAgICAgdm0ucG9wdXAgPSB0cnVlXHJcbiAgICAgICAgICAgIHZtLnBvcFBhZ2UgPSAncmVhZG1lJ1xyXG4gICAgICAgICAgICB2bS5zbGljayA9IHRydWVcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJykuc3R5bGUgPSAnYmFja2dyb3VuZDogdXJsKC4vaW1hZ2VzL3BvcHVwX2JnLnBuZykgY2VudGVyIHRvcCByZXBlYXQnXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0Z2FtZSA9IG5ldyBjYXJHYW1lKClcclxuICAgICAgICAgICAgICAgIHRlc3RnYW1lLmluaXQoKVxyXG4gICAgICAgICAgICB9LCAxMDApXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwbGF5dHVybigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0XHJcbiAgICAgICAgICAgIGxldCByb3VuZCA9IDM2MFxyXG4gICAgICAgICAgICBsZXQgc2VjID0gMC4zXHJcbiAgICAgICAgICAgIGxldCB0bCA9IG5ldyBUaW1lbGluZU1heCh7ZGVsYXk6IDAuMywgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodm0uaXNHZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2bS5zdGVwID0gJ3VzZXJhd2FyZCdcclxuICAgICAgICAgICAgICAgICAgICB2bS5pc0dhbWUgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fSlcclxuICAgICAgICAgICAgaWYodm0udGlja2V0Q291bnQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucG9wdXAgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB2bS5wb3BQYWdlID0gJ25vdGlja2V0Y291bnQnXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2bS5sb3R0ZXJ5UGxheSA9IHRydWVcclxuICAgICAgICAgICAgICAgIHRsLmZyb21UbyhcIi5sb3R0ZXJ5YmdcIiwgc2VjKjUsIHtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogcm91bmQqNVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmKHZtLmlzR2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDgwLTMwKSkgKyAzMFxyXG4gICAgICAgICAgICAgICAgICAgIHZtLmxvdHRlcnlQbGF5ID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB2bS5pc0dldCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB2bS50aWNrZXRDb3VudCAtPSAxXHJcbiAgICAgICAgICAgICAgICAgICAgdGwudG8oXCIubG90dGVyeWJnXCIsIHNlYyoyLHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IHJvdW5kKjUgKyBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICB9LCctPTAuMycpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxNzAtMTAwKSkgKyAxMDBcclxuICAgICAgICAgICAgICAgICAgICB2bS5sb3R0ZXJ5UGxheSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdm0udGlja2V0Q291bnQgLT0gMVxyXG4gICAgICAgICAgICAgICAgICAgIHRsLnRvKFwiLmxvdHRlcnliZ1wiLCBzZWMqMix7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiByb3VuZCo1ICsgb2Zmc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgfSwnLT0wLjMnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiaXJ0aGRheUFycigpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MjAyMDsgaT4xOTE5OyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIHZtLnllYXJBcnIucHVzaChpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0xOyBpPDEzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZtLm1vbnRoQXJyLnB1c2goaSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IGk9MTsgaTwzMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5kYXlBcnIucHVzaChpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBrdkFuaSgpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4gICAgICAgICAgICBsZXQgc2VjID0gMC4zXHJcbiAgICAgICAgICAgIGxldCB0bCA9IG5ldyBUaW1lbGluZU1heCh7ZGVsYXk6IDAuNn0pXHJcbiAgICAgICAgICAgIHRsLmZyb20oXCIua3YgaDJcIiwgc2VjKjIsIHtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGwuZnJvbShcIi5rdiAudG9nYW1lXCIsIHNlYyoyLCB7XHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgIH0sICctPTAuNicpXHJcbiAgICAgICAgICAgIHRsLmZyb20oXCIua3ZjYXJcIiwgc2VjKjIsIHtcclxuICAgICAgICAgICAgICAgIHk6IC02MCxcclxuICAgICAgICAgICAgICAgIHg6IDMwMCxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGwuZnJvbShcIi5rdiAua3ZmdFwiLCBzZWMqMiwge1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxyXG4gICAgICAgICAgICB9LCAnLT0wLjMnKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tEYXRhKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgICAgIHZhciBwaG9uZVJ1bGUgPSAvXjA5WzAtOV17OH0kL1xyXG4gICAgICAgICAgICBpZih2bS51c2VyTmFtZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIuiri+Whq+Wvq+Wnk+WQjVwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodm0udXNlclBob25lID09IFwiXCIgfHwgIXZtLnVzZXJQaG9uZS5tYXRjaChwaG9uZVJ1bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIuiri+i8uOWFpeato+eiuuagvOW8j+aJi+apn+iZn+eivFwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodm0udXNlcmJpci55ZWFyID09IFwiXCIgfHwgdm0udXNlcmJpci55ZWFyID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwi6KuL6YG45pOH5Ye655Sf5bm0XCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih2bS51c2VyYmlyLm1vbnRoID09IFwiXCIgfHwgdm0udXNlcmJpci5tb250aCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIuiri+mBuOaTh+WHuueUn+aciFwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodm0udXNlcmJpci5kYXkgPT0gXCJcIiB8fCB2bS51c2VyYmlyLmRheSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIuiri+mBuOaTh+WHuueUn+aXpVwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIXZtLmlzQWdyZWUpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwi6KuL5Yu+6YG45oiR5bey6Kmz6Zax5Lim5ZCM5oSP5rS75YuV6L6m5rOVXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2bS5wb3B1cCA9IHRydWVcclxuICAgICAgICAgICAgdm0ucG9wUGFnZSA9ICdsb2FkaW5nJ1xyXG4gICAgICAgICAgICB2bS5zdGVwID0gJ2RvbmUnXHJcbiAgICAgICAgICAgIHZtLnBvcHVwID0gZmFsc2VcclxuICAgICAgICAgICAgdm0ucG9wUGFnZSA9ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsb3R0ZXJ5U2hhcmUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXNcclxuICAgICAgICAgICAgdm0uZXZlbnRTaGFyZSgpXHJcbiAgICAgICAgICAgIHZtLnRpY2tldENvdW50ICs9IDFcclxuICAgICAgICAgICAgLy8gdm0uc2F2ZVNoYXJlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyB2bS5nZXREYXRhKClcclxuICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGF3YXJkcmVhZG1lKCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgICAgIHZtLnBvcHVwID0gdHJ1ZVxyXG4gICAgICAgICAgICB2bS5wb3BQYWdlID0gJ2F3YXJkcmVhZG1lJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgdm0uYmlydGhkYXlBcnIoKVxyXG4gICAgICAgIC8vIHZtLmt2QW5pKClcclxuICAgICAgICB2YXIgY2FyZ2FtZSA9IG5ldyBjYXJHYW1lKClcclxuICAgICAgICBjYXJnYW1lLmluaXQoKVxyXG4gICAgfVxyXG59KSJdfQ==
